function uo(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Dr(n,e){return function(){return n.apply(e,arguments)}}const{toString:Lr}=Object.prototype,{getPrototypeOf:Dn}=Object,Ln=(n=>e=>{const t=Lr.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),le=n=>(n=n.toLowerCase(),e=>Ln(e)===n),Kt=n=>e=>typeof e===n,{isArray:qe}=Array,st=Kt("undefined");function co(n){return n!==null&&!st(n)&&n.constructor!==null&&!st(n.constructor)&&we(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Fr=le("ArrayBuffer");function lo(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Fr(n.buffer),e}const ho=Kt("string"),we=Kt("function"),jr=Kt("number"),Fn=n=>n!==null&&typeof n=="object",fo=n=>n===!0||n===!1,At=n=>{if(Ln(n)!=="object")return!1;const e=Dn(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},po=le("Date"),go=le("File"),mo=le("Blob"),yo=le("FileList"),vo=n=>Fn(n)&&we(n.pipe),bo=n=>{const e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||Lr.call(n)===e||we(n.toString)&&n.toString()===e)},_o=le("URLSearchParams"),wo=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vt(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),qe(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,n[a],a,n)}}function Vr(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const $r=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Wr=n=>!st(n)&&n!==$r;function vn(){const{caseless:n}=Wr(this)&&this||{},e={},t=(r,i)=>{const o=n&&Vr(e,i)||i;At(e[o])&&At(r)?e[o]=vn(e[o],r):At(r)?e[o]=vn({},r):qe(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&vt(arguments[r],t);return e}const Eo=(n,e,t,{allOwnKeys:r}={})=>(vt(e,(i,o)=>{t&&we(i)?n[o]=Dr(i,t):n[o]=i},{allOwnKeys:r}),n),To=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),So=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Ao=(n,e,t,r)=>{let i,o,s;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&Dn(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Co=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Oo=n=>{if(!n)return null;if(qe(n))return n;let e=n.length;if(!jr(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Po=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Dn(Uint8Array)),Io=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Mo=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Ro=le("HTMLFormElement"),No=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),cr=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),ko=le("RegExp"),zr=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};vt(t,(i,o)=>{e(i,o,n)!==!1&&(r[o]=i)}),Object.defineProperties(n,r)},Uo=n=>{zr(n,(e,t)=>{if(we(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(we(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},xo=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return qe(n)?r(n):r(String(n).split(e)),t},Bo=()=>{},Do=(n,e)=>(n=+n,Number.isFinite(n)?n:e),ln="abcdefghijklmnopqrstuvwxyz",lr="0123456789",Gr={DIGIT:lr,ALPHA:ln,ALPHA_DIGIT:ln+ln.toUpperCase()+lr},Lo=(n=16,e=Gr.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function Fo(n){return!!(n&&we(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const jo=n=>{const e=new Array(10),t=(r,i)=>{if(Fn(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=qe(r)?[]:{};return vt(r,(s,a)=>{const c=t(s,i+1);!st(c)&&(o[a]=c)}),e[i]=void 0,o}}return r};return t(n,0)},h={isArray:qe,isArrayBuffer:Fr,isBuffer:co,isFormData:bo,isArrayBufferView:lo,isString:ho,isNumber:jr,isBoolean:fo,isObject:Fn,isPlainObject:At,isUndefined:st,isDate:po,isFile:go,isBlob:mo,isRegExp:ko,isFunction:we,isStream:vo,isURLSearchParams:_o,isTypedArray:Po,isFileList:yo,forEach:vt,merge:vn,extend:Eo,trim:wo,stripBOM:To,inherits:So,toFlatObject:Ao,kindOf:Ln,kindOfTest:le,endsWith:Co,toArray:Oo,forEachEntry:Io,matchAll:Mo,isHTMLForm:Ro,hasOwnProperty:cr,hasOwnProp:cr,reduceDescriptors:zr,freezeMethods:Uo,toObjectSet:xo,toCamelCase:No,noop:Bo,toFiniteNumber:Do,findKey:Vr,global:$r,isContextDefined:Wr,ALPHABET:Gr,generateString:Lo,isSpecCompliantForm:Fo,toJSONObject:jo};function O(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}h.inherits(O,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Hr=O.prototype,qr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{qr[n]={value:n}});Object.defineProperties(O,qr);Object.defineProperty(Hr,"isAxiosError",{value:!0});O.from=(n,e,t,r,i,o)=>{const s=Object.create(Hr);return h.toFlatObject(n,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),O.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,o&&Object.assign(s,o),s};const Vo=null;function bn(n){return h.isPlainObject(n)||h.isArray(n)}function Jr(n){return h.endsWith(n,"[]")?n.slice(0,-2):n}function dr(n,e,t){return n?n.concat(e).map(function(i,o){return i=Jr(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function $o(n){return h.isArray(n)&&!n.some(bn)}const Wo=h.toFlatObject(h,{},null,function(e){return/^is[A-Z]/.test(e)});function Qt(n,e,t){if(!h.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=h.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,P){return!h.isUndefined(P[_])});const r=t.metaTokens,i=t.visitor||d,o=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(e);if(!h.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(h.isDate(y))return y.toISOString();if(!c&&h.isBlob(y))throw new O("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(y)||h.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,_,P){let D=y;if(y&&!P&&typeof y=="object"){if(h.endsWith(_,"{}"))_=r?_:_.slice(0,-2),y=JSON.stringify(y);else if(h.isArray(y)&&$o(y)||(h.isFileList(y)||h.endsWith(_,"[]"))&&(D=h.toArray(y)))return _=Jr(_),D.forEach(function(q,X){!(h.isUndefined(q)||q===null)&&e.append(s===!0?dr([_],X,o):s===null?_:_+"[]",u(q))}),!1}return bn(y)?!0:(e.append(dr(P,_,o),u(y)),!1)}const p=[],E=Object.assign(Wo,{defaultVisitor:d,convertValue:u,isVisitable:bn});function w(y,_){if(!h.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(y),h.forEach(y,function(D,k){(!(h.isUndefined(D)||D===null)&&i.call(e,D,h.isString(k)?k.trim():k,_,E))===!0&&w(D,_?_.concat(k):[k])}),p.pop()}}if(!h.isObject(n))throw new TypeError("data must be an object");return w(n),e}function hr(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jn(n,e){this._pairs=[],n&&Qt(n,this,e)}const Yr=jn.prototype;Yr.append=function(e,t){this._pairs.push([e,t])};Yr.toString=function(e){const t=e?function(r){return e.call(this,r,hr)}:hr;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function zo(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kr(n,e,t){if(!e)return n;const r=t&&t.encode||zo,i=t&&t.serialize;let o;if(i?o=i(e,t):o=h.isURLSearchParams(e)?e.toString():new jn(e,t).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Go{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){h.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fr=Go,Qr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ho=typeof URLSearchParams<"u"?URLSearchParams:jn,qo=typeof FormData<"u"?FormData:null,Jo=typeof Blob<"u"?Blob:null,Yo=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ko=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ee={isBrowser:!0,classes:{URLSearchParams:Ho,FormData:qo,Blob:Jo},isStandardBrowserEnv:Yo,isStandardBrowserWebWorkerEnv:Ko,protocols:["http","https","file","blob","url","data"]};function Qo(n,e){return Qt(n,new ee.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return ee.isNode&&h.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Xo(n){return h.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Zo(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function Xr(n){function e(t,r,i,o){let s=t[o++];const a=Number.isFinite(+s),c=o>=t.length;return s=!s&&h.isArray(i)?i.length:s,c?(h.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!h.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&h.isArray(i[s])&&(i[s]=Zo(i[s])),!a)}if(h.isFormData(n)&&h.isFunction(n.entries)){const t={};return h.forEachEntry(n,(r,i)=>{e(Xo(r),i,t,0)}),t}return null}const es={"Content-Type":void 0};function ts(n,e,t){if(h.isString(n))try{return(e||JSON.parse)(n),h.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Xt={transitional:Qr,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=h.isObject(e);if(o&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return i&&i?JSON.stringify(Xr(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qo(e,this.formSerializer).toString();if((a=h.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qt(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),ts(e)):e}],transformResponse:[function(e){const t=this.transitional||Xt.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(e&&h.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?O.from(a,O.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ee.classes.FormData,Blob:ee.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};h.forEach(["delete","get","head"],function(e){Xt.headers[e]={}});h.forEach(["post","put","patch"],function(e){Xt.headers[e]=h.merge(es)});const Vn=Xt,ns=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rs=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&ns[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},pr=Symbol("internals");function et(n){return n&&String(n).trim().toLowerCase()}function Ct(n){return n===!1||n==null?n:h.isArray(n)?n.map(Ct):String(n)}function is(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}function os(n){return/^[-_a-zA-Z]+$/.test(n.trim())}function dn(n,e,t,r,i){if(h.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!h.isString(e)){if(h.isString(r))return e.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(e)}}function ss(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function as(n,e){const t=h.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Zt{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(a,c,u){const d=et(c);if(!d)throw new Error("header name must be a non-empty string");const p=h.findKey(i,d);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=Ct(a))}const s=(a,c)=>h.forEach(a,(u,d)=>o(u,d,c));return h.isPlainObject(e)||e instanceof this.constructor?s(e,t):h.isString(e)&&(e=e.trim())&&!os(e)?s(rs(e),t):e!=null&&o(t,e,r),this}get(e,t){if(e=et(e),e){const r=h.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return is(i);if(h.isFunction(t))return t.call(this,i,r);if(h.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=et(e),e){const r=h.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||dn(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(s){if(s=et(s),s){const a=h.findKey(r,s);a&&(!t||dn(r,r[a],a,t))&&(delete r[a],i=!0)}}return h.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||dn(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return h.forEach(this,(i,o)=>{const s=h.findKey(r,o);if(s){t[s]=Ct(i),delete t[o];return}const a=e?ss(o):String(o).trim();a!==o&&delete t[o],t[a]=Ct(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return h.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&h.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[pr]=this[pr]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=et(s);r[a]||(as(i,s),r[a]=!0)}return h.isArray(e)?e.forEach(o):o(e),this}}Zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.freezeMethods(Zt.prototype);h.freezeMethods(Zt);const ae=Zt;function hn(n,e){const t=this||Vn,r=e||t,i=ae.from(r.headers);let o=r.data;return h.forEach(n,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Zr(n){return!!(n&&n.__CANCEL__)}function bt(n,e,t){O.call(this,n??"canceled",O.ERR_CANCELED,e,t),this.name="CanceledError"}h.inherits(bt,O,{__CANCEL__:!0});function us(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new O("Request failed with status code "+t.status,[O.ERR_BAD_REQUEST,O.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const cs=ee.isStandardBrowserEnv?function(){return{write:function(t,r,i,o,s,a){const c=[];c.push(t+"="+encodeURIComponent(r)),h.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),h.isString(o)&&c.push("path="+o),h.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ls(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function ds(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function ei(n,e){return n&&!ls(e)?ds(n,e):e}const hs=ee.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(o){let s=o;return e&&(t.setAttribute("href",s),s=t.href),t.setAttribute("href",s),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(s){const a=h.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function fs(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ps(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=r[o];s||(s=u),t[i]=c,r[i]=u;let p=o,E=0;for(;p!==i;)E+=t[p++],p=p%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),u-s<e)return;const w=d&&u-d;return w?Math.round(E*1e3/w):void 0}}function gr(n,e){let t=0;const r=ps(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-t,c=r(a),u=o<=s;t=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i};d[e?"download":"upload"]=!0,n(d)}}const gs=typeof XMLHttpRequest<"u",ms=gs&&function(n){return new Promise(function(t,r){let i=n.data;const o=ae.from(n.headers).normalize(),s=n.responseType;let a;function c(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}h.isFormData(i)&&(ee.isStandardBrowserEnv||ee.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let u=new XMLHttpRequest;if(n.auth){const w=n.auth.username||"",y=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";o.set("Authorization","Basic "+btoa(w+":"+y))}const d=ei(n.baseURL,n.url);u.open(n.method.toUpperCase(),Kr(d,n.params,n.paramsSerializer),!0),u.timeout=n.timeout;function p(){if(!u)return;const w=ae.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),_={data:!s||s==="text"||s==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:w,config:n,request:u};us(function(D){t(D),c()},function(D){r(D),c()},_),u=null}if("onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(p)},u.onabort=function(){u&&(r(new O("Request aborted",O.ECONNABORTED,n,u)),u=null)},u.onerror=function(){r(new O("Network Error",O.ERR_NETWORK,n,u)),u=null},u.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||Qr;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),r(new O(y,_.clarifyTimeoutError?O.ETIMEDOUT:O.ECONNABORTED,n,u)),u=null},ee.isStandardBrowserEnv){const w=(n.withCredentials||hs(d))&&n.xsrfCookieName&&cs.read(n.xsrfCookieName);w&&o.set(n.xsrfHeaderName,w)}i===void 0&&o.setContentType(null),"setRequestHeader"in u&&h.forEach(o.toJSON(),function(y,_){u.setRequestHeader(_,y)}),h.isUndefined(n.withCredentials)||(u.withCredentials=!!n.withCredentials),s&&s!=="json"&&(u.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&u.addEventListener("progress",gr(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",gr(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=w=>{u&&(r(!w||w.type?new bt(null,n,u):w),u.abort(),u=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const E=fs(d);if(E&&ee.protocols.indexOf(E)===-1){r(new O("Unsupported protocol "+E+":",O.ERR_BAD_REQUEST,n));return}u.send(i||null)})},Ot={http:Vo,xhr:ms};h.forEach(Ot,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const ys={getAdapter:n=>{n=h.isArray(n)?n:[n];const{length:e}=n;let t,r;for(let i=0;i<e&&(t=n[i],!(r=h.isString(t)?Ot[t.toLowerCase()]:t));i++);if(!r)throw r===!1?new O(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(h.hasOwnProp(Ot,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!h.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ot};function fn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new bt(null,n)}function mr(n){return fn(n),n.headers=ae.from(n.headers),n.data=hn.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ys.getAdapter(n.adapter||Vn.adapter)(n).then(function(r){return fn(n),r.data=hn.call(n,n.transformResponse,r),r.headers=ae.from(r.headers),r},function(r){return Zr(r)||(fn(n),r&&r.response&&(r.response.data=hn.call(n,n.transformResponse,r.response),r.response.headers=ae.from(r.response.headers))),Promise.reject(r)})}const yr=n=>n instanceof ae?n.toJSON():n;function $e(n,e){e=e||{};const t={};function r(u,d,p){return h.isPlainObject(u)&&h.isPlainObject(d)?h.merge.call({caseless:p},u,d):h.isPlainObject(d)?h.merge({},d):h.isArray(d)?d.slice():d}function i(u,d,p){if(h.isUndefined(d)){if(!h.isUndefined(u))return r(void 0,u,p)}else return r(u,d,p)}function o(u,d){if(!h.isUndefined(d))return r(void 0,d)}function s(u,d){if(h.isUndefined(d)){if(!h.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,p){if(p in e)return r(u,d);if(p in n)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,d)=>i(yr(u),yr(d),!0)};return h.forEach(Object.keys(n).concat(Object.keys(e)),function(d){const p=c[d]||i,E=p(n[d],e[d],d);h.isUndefined(E)&&p!==a||(t[d]=E)}),t}const ti="1.3.4",$n={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{$n[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const vr={};$n.transitional=function(e,t,r){function i(o,s){return"[Axios v"+ti+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new O(i(s," has been removed"+(t?" in "+t:"")),O.ERR_DEPRECATED);return t&&!vr[s]&&(vr[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};function vs(n,e,t){if(typeof n!="object")throw new O("options must be an object",O.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=n[o],c=a===void 0||s(a,o,n);if(c!==!0)throw new O("option "+o+" must be "+c,O.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new O("Unknown option "+o,O.ERR_BAD_OPTION)}}const _n={assertOptions:vs,validators:$n},ye=_n.validators;class Rt{constructor(e){this.defaults=e,this.interceptors={request:new fr,response:new fr}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$e(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&_n.assertOptions(r,{silentJSONParsing:ye.transitional(ye.boolean),forcedJSONParsing:ye.transitional(ye.boolean),clarifyTimeoutError:ye.transitional(ye.boolean)},!1),i!==void 0&&_n.assertOptions(i,{encode:ye.function,serialize:ye.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s;s=o&&h.merge(o.common,o[t.method]),s&&h.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),t.headers=ae.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let d,p=0,E;if(!c){const y=[mr.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),E=y.length,d=Promise.resolve(t);p<E;)d=d.then(y[p++],y[p++]);return d}E=a.length;let w=t;for(p=0;p<E;){const y=a[p++],_=a[p++];try{w=y(w)}catch(P){_.call(this,P);break}}try{d=mr.call(this,w)}catch(y){return Promise.reject(y)}for(p=0,E=u.length;p<E;)d=d.then(u[p++],u[p++]);return d}getUri(e){e=$e(this.defaults,e);const t=ei(e.baseURL,e.url);return Kr(t,e.params,e.paramsSerializer)}}h.forEach(["delete","get","head","options"],function(e){Rt.prototype[e]=function(t,r){return this.request($e(r||{},{method:e,url:t,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,a){return this.request($e(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Rt.prototype[e]=t(),Rt.prototype[e+"Form"]=t(!0)});const Pt=Rt;class Wn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new bt(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Wn(function(i){e=i}),cancel:e}}}const bs=Wn;function _s(n){return function(t){return n.apply(null,t)}}function ws(n){return h.isObject(n)&&n.isAxiosError===!0}const wn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wn).forEach(([n,e])=>{wn[e]=n});const Es=wn;function ni(n){const e=new Pt(n),t=Dr(Pt.prototype.request,e);return h.extend(t,Pt.prototype,e,{allOwnKeys:!0}),h.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return ni($e(n,i))},t}const j=ni(Vn);j.Axios=Pt;j.CanceledError=bt;j.CancelToken=bs;j.isCancel=Zr;j.VERSION=ti;j.toFormData=Qt;j.AxiosError=O;j.Cancel=j.CanceledError;j.all=function(e){return Promise.all(e)};j.spread=_s;j.isAxiosError=ws;j.mergeConfig=$e;j.AxiosHeaders=ae;j.formToJSON=n=>Xr(h.isHTMLForm(n)?new FormData(n):n);j.HttpStatusCode=Es;j.default=j;const Ts=j,Ss="modulepreload",As=function(n){return"/"+n},br={},ue=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=As(o),o in br)return;br[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const p=i[d];if(p.href===o&&(!s||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Ss,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((d,p)=>{u.addEventListener("load",d),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};var te="named",ri="name",zn="unmanaged",Gn="optional",en="inject",at="multi_inject",ii="inversify:tagged",oi="inversify:tagged_props",En="inversify:paramtypes",Cs="design:paramtypes",_r="post_construct";function Os(){return[en,at,ri,zn,te,Gn]}var wr=Os(),H={Request:"Request",Singleton:"Singleton",Transient:"Transient"},G={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},se={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},Ps=0;function Re(){return Ps++}var Is=function(){function n(e,t){this.id=Re(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=G.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return n.prototype.clone=function(){var e=new n(this.serviceIdentifier,this.scope);return e.activated=e.scope===H.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},n}(),Ms="Cannot apply @injectable decorator multiple times.",Rs="Metadata key was used more than once in a parameter:",tt="NULL argument",Er="Key Not Found",Ns="Ambiguous match found for serviceIdentifier:",ks="Could not unbind serviceIdentifier:",Us="No matching bindings found for serviceIdentifier:",xs="Missing required @injectable annotation in:",Bs="Missing required @inject or @multiInject annotation in:",Ds=function(n){return"@inject called with undefined this could mean that the class "+n+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},Ls="Circular dependency found:",Fs="Invalid binding type:",js="No snapshot available to restore.",Vs="Invalid return type in middleware. Middleware must return!",$s="Value provided to function binding must be a function!",Ws="The toSelf function can only be applied when a constructor is used as service identifier",zs="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",Gs=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"The number of constructor arguments in the derived class "+(n[0]+" must be >= than the number of constructor arguments of its base class.")},Hs="Invalid Container constructor argument. Container options must be an object.",qs="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",Js="Invalid Container option. Auto bind injectable must be a boolean",Ys="Invalid Container option. Skip base check must be a boolean",Ks=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"@postConstruct error in class "+n[0]+": "+n[1]},Qs=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"It looks like there is a circular dependency "+("in one of the '"+n[0]+"' bindings. Please investigate bindings with")+("service identifier '"+n[1]+"'.")},Xs="Maximum call stack size exceeded",Zs=function(){function n(){}return n.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(En,e),r=Reflect.getMetadata(ii,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:r||{}}},n.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(oi,e)||[];return t},n}(),It={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function si(n){return n instanceof RangeError||n.message===Xs}function ut(n){if(typeof n=="function"){var e=n;return e.name}else{if(typeof n=="symbol")return n.toString();var e=n;return e}}function Tr(n,e,t){var r="",i=t(n,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=tn(o.implementationType)),r=r+`
 `+s,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}function ai(n,e){return n.parentRequest===null?!1:n.parentRequest.serviceIdentifier===e?!0:ai(n.parentRequest,e)}function ea(n){function e(r,i){i===void 0&&(i=[]);var o=ut(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var t=e(n);return t.reverse().join(" --> ")}function ui(n){n.childRequests.forEach(function(e){if(ai(e,e.serviceIdentifier)){var t=ea(e);throw new Error(Ls+" "+t)}else ui(e)})}function ta(n,e){if(e.isTagged()||e.isNamed()){var t="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(t+=r.toString()+`
`),i!==null&&i.forEach(function(o){t+=o.toString()+`
`})," "+n+`
 `+n+" - "+t}else return" "+n}function tn(n){if(n.name)return n.name;var e=n.toString(),t=e.match(/^function\s*([^\s(]+)/);return t?t[1]:"Anonymous function: "+e}var ci=function(){function n(e){this.id=Re(),this.container=e}return n.prototype.addPlan=function(e){this.plan=e},n.prototype.setCurrentRequest=function(e){this.currentRequest=e},n}(),Ee=function(){function n(e,t){this.key=e,this.value=t}return n.prototype.toString=function(){return this.key===te?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},n}(),na=function(){function n(e,t){this.parentContext=e,this.rootRequest=t}return n}();function li(n,e,t,r){var i=ii;hi(i,n,e,r,t)}function di(n,e,t){var r=oi;hi(r,n.constructor,e,t)}function hi(n,e,t,r,i){var o={},s=typeof i=="number",a=i!==void 0&&s?i.toString():t;if(s&&t!==void 0)throw new Error(zs);Reflect.hasOwnMetadata(n,e)&&(o=Reflect.getMetadata(n,e));var c=o[a];if(!Array.isArray(c))c=[];else for(var u=0,d=c;u<d.length;u++){var p=d[u];if(p.key===r.key)throw new Error(Rs+" "+p.key.toString())}c.push(r),o[a]=c,Reflect.defineMetadata(n,o,e)}var ra=function(){function n(e){this._cb=e}return n.prototype.unwrap=function(){return this._cb()},n}();function v(n){return function(e,t,r){if(n===void 0)throw new Error(Ds(e.name));var i=new Ee(en,n);typeof r=="number"?li(e,t,r,i):di(e,t,i)}}var ia=function(){function n(e){this.str=e}return n.prototype.startsWith=function(e){return this.str.indexOf(e)===0},n.prototype.endsWith=function(e){var t="",r=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},r)},n.prototype.contains=function(e){return this.str.indexOf(e)!==-1},n.prototype.equals=function(e){return this.str===e},n.prototype.value=function(){return this.str},n}(),nn=function(){function n(e,t,r,i){this.id=Re(),this.type=e,this.serviceIdentifier=r,this.name=new ia(t||""),this.metadata=new Array;var o=null;typeof i=="string"?o=new Ee(te,i):i instanceof Ee&&(o=i),o!==null&&this.metadata.push(o)}return n.prototype.hasTag=function(e){for(var t=0,r=this.metadata;t<r.length;t++){var i=r[t];if(i.key===e)return!0}return!1},n.prototype.isArray=function(){return this.hasTag(at)},n.prototype.matchesArray=function(e){return this.matchesTag(at)(e)},n.prototype.isNamed=function(){return this.hasTag(te)},n.prototype.isTagged=function(){return this.metadata.some(function(e){return wr.every(function(t){return e.key!==t})})},n.prototype.isOptional=function(){return this.matchesTag(Gn)(!0)},n.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===te})[0]:null},n.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return wr.every(function(t){return e.key!==t})}):null},n.prototype.matchesNamedTag=function(e){return this.matchesTag(te)(e)},n.prototype.matchesTag=function(e){var t=this;return function(r){for(var i=0,o=t.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===r)return!0}return!1}},n}(),Nt=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n};function oa(n,e){var t=tn(e),r=fi(n,t,e,!1);return r}function fi(n,e,t,r){var i=n.getConstructorMetadata(t),o=i.compilerGeneratedMetadata;if(o===void 0){var s=xs+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,c=Object.keys(a),u=t.length===0&&c.length>0,d=c.length>t.length,p=u||d?c.length:t.length,E=aa(r,e,o,a,p),w=pi(n,t),y=Nt(Nt([],E),w);return y}function sa(n,e,t,r,i){var o=i[n.toString()]||[],s=mi(o),a=s.unmanaged!==!0,c=r[n],u=s.inject||s.multiInject;if(c=u||c,c instanceof ra&&(c=c.unwrap()),a){var d=c===Object,p=c===Function,E=c===void 0,w=d||p||E;if(!e&&w){var y=Bs+" argument "+n+" in class "+t+".";throw new Error(y)}var _=new nn(se.ConstructorArgument,s.targetName,c);return _.metadata=o,_}return null}function aa(n,e,t,r,i){for(var o=[],s=0;s<i;s++){var a=s,c=sa(a,n,e,t,r);c!==null&&o.push(c)}return o}function pi(n,e){for(var t=n.getPropertiesMetadata(e),r=[],i=Object.keys(t),o=0,s=i;o<s.length;o++){var a=s[o],c=t[a],u=mi(t[a]),d=u.targetName||a,p=u.inject||u.multiInject,E=new nn(se.ClassProperty,d,p);E.metadata=c,r.push(E)}var w=Object.getPrototypeOf(e.prototype).constructor;if(w!==Object){var y=pi(n,w);r=Nt(Nt([],r),y)}return r}function gi(n,e){var t=Object.getPrototypeOf(e.prototype).constructor;if(t!==Object){var r=tn(t),i=fi(n,r,t,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===zn})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:gi(n,t)}else return 0}function mi(n){var e={};return n.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[en],multiInject:e[at],targetName:e[ri],unmanaged:e[zn]}}var Hn=function(){function n(e,t,r,i,o){this.id=Re(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return n.prototype.addChildRequest=function(e,t,r){var i=new n(e,this.parentContext,this,t,r);return this.childRequests.push(i),i},n}();function Tn(n){return n._bindingDictionary}function ua(n,e,t,r,i,o){var s=n?at:en,a=new Ee(s,t),c=new nn(e,r,t,a);if(i!==void 0){var u=new Ee(i,o);c.metadata.push(u)}return c}function Sr(n,e,t,r,i){var o=ct(t.container,i.serviceIdentifier),s=[];return o.length===It.NoBindingsAvailable&&t.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&n.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(t.container.bind(i.serviceIdentifier).toSelf(),o=ct(t.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var c=new Hn(a.serviceIdentifier,t,r,a,i);return a.constraint(c)}),ca(i.serviceIdentifier,s,i,t.container),s}function ca(n,e,t,r){switch(e.length){case It.NoBindingsAvailable:if(t.isOptional())return e;var i=ut(n),o=Us;throw o+=ta(i,t),o+=Tr(r,i,ct),new Error(o);case It.OnlyOneBindingAvailable:if(!t.isArray())return e;case It.MultipleBindingsAvailable:default:if(t.isArray())return e;var i=ut(n),o=Ns+" "+i;throw o+=Tr(r,i,ct),new Error(o)}}function yi(n,e,t,r,i,o){var s,a;if(i===null){s=Sr(n,e,r,null,o),a=new Hn(t,r,null,s,o);var c=new na(r,a);r.addPlan(c)}else s=Sr(n,e,r,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(u){var d=null;if(o.isArray())d=a.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;d=a}if(u.type===G.Instance&&u.implementationType!==null){var p=oa(n,u.implementationType);if(!r.container.options.skipBaseClassChecks){var E=gi(n,u.implementationType);if(p.length<E){var w=Gs(tn(u.implementationType));throw new Error(w)}}p.forEach(function(y){yi(n,!1,y.serviceIdentifier,r,d,y)})}})}function ct(n,e){var t=[],r=Tn(n);return r.hasKey(e)?t=r.get(e):n.parent!==null&&(t=ct(n.parent,e)),t}function la(n,e,t,r,i,o,s,a){a===void 0&&(a=!1);var c=new ci(e),u=ua(t,r,i,"",o,s);try{return yi(n,a,i,c,null,u),c}catch(d){throw si(d)&&c.plan&&ui(c.plan.rootRequest),d}}function da(n,e,t,r){var i=new nn(se.Variable,"",e,new Ee(t,r)),o=new ci(n),s=new Hn(e,o,null,[],i);return s}var ha=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n};function fa(n,e,t){var r=e.filter(function(o){return o.target!==null&&o.target.type===se.ClassProperty}),i=r.map(t);return r.forEach(function(o,s){var a="";a=o.target.name.value();var c=i[s];n[a]=c}),n}function pa(n,e){return new(n.bind.apply(n,ha([void 0],e)))}function ga(n,e){if(Reflect.hasMetadata(_r,n)){var t=Reflect.getMetadata(_r,n);try{e[t.value]()}catch(r){throw new Error(Ks(n.name,r.message))}}}function ma(n,e,t){var r=null;if(e.length>0){var i=e.filter(function(s){return s.target!==null&&s.target.type===se.ConstructorArgument}),o=i.map(t);r=pa(n,o),r=fa(r,e,t)}else r=new n;return ga(n,r),r}var pn=function(n,e,t){try{return t()}catch(r){throw si(r)?new Error(Qs(n,e.toString())):r}},Sn=function(n){return function(e){e.parentContext.setCurrentRequest(e);var t=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(p){var E=Sn(n);return E(p)});var s=null;if(e.target.isOptional()&&t.length===0)return;var a=t[0],c=a.scope===H.Singleton,u=a.scope===H.Request;if(c&&a.activated)return a.cache;if(u&&n!==null&&n.has(a.id))return n.get(a.id);if(a.type===G.ConstantValue)s=a.cache,a.activated=!0;else if(a.type===G.Function)s=a.cache,a.activated=!0;else if(a.type===G.Constructor)s=a.implementationType;else if(a.type===G.DynamicValue&&a.dynamicValue!==null)s=pn("toDynamicValue",a.serviceIdentifier,function(){return a.dynamicValue(e.parentContext)});else if(a.type===G.Factory&&a.factory!==null)s=pn("toFactory",a.serviceIdentifier,function(){return a.factory(e.parentContext)});else if(a.type===G.Provider&&a.provider!==null)s=pn("toProvider",a.serviceIdentifier,function(){return a.provider(e.parentContext)});else if(a.type===G.Instance&&a.implementationType!==null)s=ma(a.implementationType,r,Sn(n));else{var d=ut(e.serviceIdentifier);throw new Error(Fs+" "+d)}return typeof a.onActivation=="function"&&(s=a.onActivation(e.parentContext,s)),c&&(a.cache=s,a.activated=!0),u&&n!==null&&!n.has(a.id)&&n.set(a.id,s),s}};function ya(n){var e=Sn(n.plan.rootRequest.requestScope);return e(n.plan.rootRequest)}var oe=function(n,e){var t=n.parentRequest;return t!==null?e(t)?!0:oe(t,e):!1},nt=function(n){return function(e){var t=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(n)(e)};return t.metaData=new Ee(n,e),t}},Et=nt(te),gn=function(n){return function(e){var t=null;if(e!==null)if(t=e.bindings[0],typeof n=="string"){var r=t.serviceIdentifier;return r===n}else{var i=e.bindings[0].implementationType;return n===i}return!1}},qn=function(){function n(e){this._binding=e}return n.prototype.when=function(e){return this._binding.constraint=e,new z(this._binding)},n.prototype.whenTargetNamed=function(e){return this._binding.constraint=Et(e),new z(this._binding)},n.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){var t=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return t},new z(this._binding)},n.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=nt(e)(t),new z(this._binding)},n.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return gn(e)(t.parentRequest)},new z(this._binding)},n.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return Et(e)(t.parentRequest)},new z(this._binding)},n.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(r){return nt(e)(t)(r.parentRequest)},new z(this._binding)},n.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return oe(t,gn(e))},new z(this._binding)},n.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!oe(t,gn(e))},new z(this._binding)},n.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return oe(t,Et(e))},new z(this._binding)},n.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!oe(t,Et(e))},new z(this._binding)},n.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(r){return oe(r,nt(e)(t))},new z(this._binding)},n.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(r){return!oe(r,nt(e)(t))},new z(this._binding)},n.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return oe(t,e)},new z(this._binding)},n.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!oe(t,e)},new z(this._binding)},n}(),z=function(){function n(e){this._binding=e}return n.prototype.onActivation=function(e){return this._binding.onActivation=e,new qn(this._binding)},n}(),be=function(){function n(e){this._binding=e,this._bindingWhenSyntax=new qn(this._binding),this._bindingOnSyntax=new z(this._binding)}return n.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},n.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},n.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},n.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},n.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},n.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},n.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},n.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},n.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},n.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},n.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},n.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},n.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},n.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},n}(),va=function(){function n(e){this._binding=e}return n.prototype.inRequestScope=function(){return this._binding.scope=H.Request,new be(this._binding)},n.prototype.inSingletonScope=function(){return this._binding.scope=H.Singleton,new be(this._binding)},n.prototype.inTransientScope=function(){return this._binding.scope=H.Transient,new be(this._binding)},n}(),Ar=function(){function n(e){this._binding=e,this._bindingWhenSyntax=new qn(this._binding),this._bindingOnSyntax=new z(this._binding),this._bindingInSyntax=new va(e)}return n.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},n.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},n.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},n.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},n.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},n.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},n.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},n.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},n.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},n.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},n.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},n.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},n.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},n.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},n.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},n.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},n.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},n}(),ba=function(){function n(e){this._binding=e}return n.prototype.to=function(e){return this._binding.type=G.Instance,this._binding.implementationType=e,new Ar(this._binding)},n.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Ws);var e=this._binding.serviceIdentifier;return this.to(e)},n.prototype.toConstantValue=function(e){return this._binding.type=G.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=H.Singleton,new be(this._binding)},n.prototype.toDynamicValue=function(e){return this._binding.type=G.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Ar(this._binding)},n.prototype.toConstructor=function(e){return this._binding.type=G.Constructor,this._binding.implementationType=e,this._binding.scope=H.Singleton,new be(this._binding)},n.prototype.toFactory=function(e){return this._binding.type=G.Factory,this._binding.factory=e,this._binding.scope=H.Singleton,new be(this._binding)},n.prototype.toFunction=function(e){if(typeof e!="function")throw new Error($s);var t=this.toConstantValue(e);return this._binding.type=G.Function,this._binding.scope=H.Singleton,t},n.prototype.toAutoFactory=function(e){return this._binding.type=G.Factory,this._binding.factory=function(t){var r=function(){return t.container.get(e)};return r},this._binding.scope=H.Singleton,new be(this._binding)},n.prototype.toProvider=function(e){return this._binding.type=G.Provider,this._binding.provider=e,this._binding.scope=H.Singleton,new be(this._binding)},n.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},n}(),_a=function(){function n(){}return n.of=function(e,t){var r=new n;return r.bindings=e,r.middleware=t,r},n}(),Cr=function(){function n(){this._map=new Map}return n.prototype.getMap=function(){return this._map},n.prototype.add=function(e,t){if(e==null)throw new Error(tt);if(t==null)throw new Error(tt);var r=this._map.get(e);r!==void 0?(r.push(t),this._map.set(e,r)):this._map.set(e,[t])},n.prototype.get=function(e){if(e==null)throw new Error(tt);var t=this._map.get(e);if(t!==void 0)return t;throw new Error(Er)},n.prototype.remove=function(e){if(e==null)throw new Error(tt);if(!this._map.delete(e))throw new Error(Er)},n.prototype.removeByCondition=function(e){var t=this;this._map.forEach(function(r,i){var o=r.filter(function(s){return!e(s)});o.length>0?t._map.set(i,o):t._map.delete(i)})},n.prototype.hasKey=function(e){if(e==null)throw new Error(tt);return this._map.has(e)},n.prototype.clone=function(){var e=new n;return this._map.forEach(function(t,r){t.forEach(function(i){return e.add(r,i.clone())})}),e},n.prototype.traverse=function(e){this._map.forEach(function(t,r){e(r,t)})},n}(),wa=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Ea=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ta=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n},Sa=function(){function n(e){this._appliedMiddleware=[];var t=e||{};if(typeof t!="object")throw new Error(""+Hs);if(t.defaultScope===void 0)t.defaultScope=H.Transient;else if(t.defaultScope!==H.Singleton&&t.defaultScope!==H.Transient&&t.defaultScope!==H.Request)throw new Error(""+qs);if(t.autoBindInjectable===void 0)t.autoBindInjectable=!1;else if(typeof t.autoBindInjectable!="boolean")throw new Error(""+Js);if(t.skipBaseClassChecks===void 0)t.skipBaseClassChecks=!1;else if(typeof t.skipBaseClassChecks!="boolean")throw new Error(""+Ys);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=Re(),this._bindingDictionary=new Cr,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new Zs}return n.merge=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new n,s=Ta([e,t],r).map(function(u){return Tn(u)}),a=Tn(o);function c(u,d){u.traverse(function(p,E){E.forEach(function(w){d.add(w.serviceIdentifier,w.clone())})})}return s.forEach(function(u){c(u,a)}),o},n.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=r(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},n.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return wa(this,void 0,void 0,function(){var r,i,o,s,a;return Ea(this,function(c){switch(c.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],a=r(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},n.prototype.unload=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=function(o){return function(s){return s.moduleId===o}};t.forEach(function(o){var s=i(o.id);e._bindingDictionary.removeByCondition(s)})},n.prototype.bind=function(e){var t=this.options.defaultScope||H.Transient,r=new Is(e,t);return this._bindingDictionary.add(e,r),new ba(r)},n.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},n.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(ks+" "+ut(e))}},n.prototype.unbindAll=function(){this._bindingDictionary=new Cr},n.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},n.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,te,t)},n.prototype.isBoundTagged=function(e,t,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=da(this,e,t,r);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,t,r)),i},n.prototype.snapshot=function(){this._snapshots.push(_a.of(this._bindingDictionary.clone(),this._middleware))},n.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(js);this._bindingDictionary=e.bindings,this._middleware=e.middleware},n.prototype.createChild=function(e){var t=new n(e||this.options);return t.parent=this,t},n.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},n.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},n.prototype.get=function(e){return this._get(!1,!1,se.Variable,e)},n.prototype.getTagged=function(e,t,r){return this._get(!1,!1,se.Variable,e,t,r)},n.prototype.getNamed=function(e,t){return this.getTagged(e,te,t)},n.prototype.getAll=function(e){return this._get(!0,!0,se.Variable,e)},n.prototype.getAllTagged=function(e,t,r){return this._get(!1,!0,se.Variable,e,t,r)},n.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,te,t)},n.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach(function(r){t.applyMiddleware(r)}),t.get(e)},n.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(a,c){a._binding.moduleId=c},r=function(a){return function(c){var u=e.bind.bind(e),d=u(c);return t(d,a),d}},i=function(a){return function(c){var u=e.unbind.bind(e);u(c)}},o=function(a){return function(c){var u=e.isBound.bind(e);return u(c)}},s=function(a){return function(c){var u=e.rebind.bind(e),d=u(c);return t(d,a),d}};return function(a){return{bindFunction:r(a),isboundFunction:o(),rebindFunction:s(a),unbindFunction:i()}}},n.prototype._get=function(e,t,r,i,o,s){var a=null,c={avoidConstraints:e,contextInterceptor:function(u){return u},isMultiInject:t,key:o,serviceIdentifier:i,targetType:r,value:s};if(this._middleware){if(a=this._middleware(c),a==null)throw new Error(Vs)}else a=this._planAndResolve()(c);return a},n.prototype._planAndResolve=function(){var e=this;return function(t){var r=la(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);r=t.contextInterceptor(r);var i=ya(r);return i}},n}(),Je=function(){function n(e){this.id=Re(),this.registry=e}return n}(),Aa=function(){function n(e){this.id=Re(),this.registry=e}return n}();function R(){return function(n){if(Reflect.hasOwnMetadata(En,n))throw new Error(Ms);var e=Reflect.getMetadata(Cs,n)||[];return Reflect.defineMetadata(En,e,n),n}}function Y(){return function(n,e,t){var r=new Ee(Gn,!0);typeof t=="number"?li(n,e,t,r):di(n,e,r)}}var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ku(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pr;(function(n){(function(e){var t=typeof Or=="object"?Or:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(n);typeof t.Reflect>"u"?t.Reflect=n:r=i(t.Reflect,r),e(r);function i(o,s){return function(a,c){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:c}),s&&s(a,c)}}})(function(e){var t=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,c=!s&&!a,u={create:s?function(){return cn(Object.create(null))}:a?function(){return cn({__proto__:null})}:function(){return cn({})},has:c?function(l,f){return t.call(l,f)}:function(l,f){return f in l},get:c?function(l,f){return t.call(l,f)?l[f]:void 0}:function(l,f){return l[f]}},d=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",E=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:oo(),w=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:so(),y=!p&&typeof WeakMap=="function"?WeakMap:ao(),_=new y;function P(l,f,g,b){if(F(g)){if(!or(l))throw new TypeError;if(!sr(f))throw new TypeError;return Ke(l,f)}else{if(!or(l))throw new TypeError;if(!V(f))throw new TypeError;if(!V(b)&&!F(b)&&!Be(b))throw new TypeError;return Be(b)&&(b=void 0),g=ie(g),Qe(l,f,g,b)}}e("decorate",P);function D(l,f){function g(b,T){if(!V(b))throw new TypeError;if(!F(T)&&!eo(T))throw new TypeError;Xe(l,f,b,T)}return g}e("metadata",D);function k(l,f,g,b){if(!V(g))throw new TypeError;return F(b)||(b=ie(b)),Xe(l,f,g,b)}e("defineMetadata",k);function q(l,f,g){if(!V(f))throw new TypeError;return F(g)||(g=ie(g)),Ue(l,f,g)}e("hasMetadata",q);function X(l,f,g){if(!V(f))throw new TypeError;return F(g)||(g=ie(g)),Ae(l,f,g)}e("hasOwnMetadata",X);function de(l,f,g){if(!V(f))throw new TypeError;return F(g)||(g=ie(g)),ge(l,f,g)}e("getMetadata",de);function he(l,f,g){if(!V(f))throw new TypeError;return F(g)||(g=ie(g)),Ce(l,f,g)}e("getOwnMetadata",he);function J(l,f){if(!V(l))throw new TypeError;return F(f)||(f=ie(f)),xe(l,f)}e("getMetadataKeys",J);function fe(l,f){if(!V(l))throw new TypeError;return F(f)||(f=ie(f)),Q(l,f)}e("getOwnMetadataKeys",fe);function pe(l,f,g){if(!V(f))throw new TypeError;F(g)||(g=ie(g));var b=re(f,g,!1);if(F(b)||!b.delete(l))return!1;if(b.size>0)return!0;var T=_.get(f);return T.delete(g),T.size>0||_.delete(f),!0}e("deleteMetadata",pe);function Ke(l,f){for(var g=l.length-1;g>=0;--g){var b=l[g],T=b(f);if(!F(T)&&!Be(T)){if(!sr(T))throw new TypeError;f=T}}return f}function Qe(l,f,g,b){for(var T=l.length-1;T>=0;--T){var W=l[T],A=W(f,g,b);if(!F(A)&&!Be(A)){if(!V(A))throw new TypeError;b=A}}return b}function re(l,f,g){var b=_.get(l);if(F(b)){if(!g)return;b=new E,_.set(l,b)}var T=b.get(f);if(F(T)){if(!g)return;T=new E,b.set(f,T)}return T}function Ue(l,f,g){var b=Ae(l,f,g);if(b)return!0;var T=un(f);return Be(T)?!1:Ue(l,T,g)}function Ae(l,f,g){var b=re(f,g,!1);return F(b)?!1:Xi(b.has(l))}function ge(l,f,g){var b=Ae(l,f,g);if(b)return Ce(l,f,g);var T=un(f);if(!Be(T))return ge(l,T,g)}function Ce(l,f,g){var b=re(f,g,!1);if(!F(b))return b.get(l)}function Xe(l,f,g,b){var T=re(g,b,!0);T.set(l,f)}function xe(l,f){var g=Q(l,f),b=un(l);if(b===null)return g;var T=xe(b,f);if(T.length<=0)return g;if(g.length<=0)return T;for(var W=new w,A=[],C=0,S=g;C<S.length;C++){var I=S[C],M=W.has(I);M||(W.add(I),A.push(I))}for(var me=0,ur=T;me<ur.length;me++){var I=ur[me],M=W.has(I);M||(W.add(I),A.push(I))}return A}function Q(l,f){var g=[],b=re(l,f,!1);if(F(b))return g;for(var T=b.keys(),W=to(T),A=0;;){var C=ro(W);if(!C)return g.length=A,g;var S=no(C);try{g[A]=S}catch(I){try{io(W)}finally{throw I}}A++}}function Ze(l){if(l===null)return 1;switch(typeof l){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return l===null?1:6;default:return 6}}function F(l){return l===void 0}function Be(l){return l===null}function Yi(l){return typeof l=="symbol"}function V(l){return typeof l=="object"?l!==null:typeof l=="function"}function Ki(l,f){switch(Ze(l)){case 0:return l;case 1:return l;case 2:return l;case 3:return l;case 4:return l;case 5:return l}var g=f===3?"string":f===5?"number":"default",b=ar(l,i);if(b!==void 0){var T=b.call(l,g);if(V(T))throw new TypeError;return T}return Qi(l,g==="default"?"number":g)}function Qi(l,f){if(f==="string"){var g=l.toString;if(De(g)){var b=g.call(l);if(!V(b))return b}var T=l.valueOf;if(De(T)){var b=T.call(l);if(!V(b))return b}}else{var T=l.valueOf;if(De(T)){var b=T.call(l);if(!V(b))return b}var W=l.toString;if(De(W)){var b=W.call(l);if(!V(b))return b}}throw new TypeError}function Xi(l){return!!l}function Zi(l){return""+l}function ie(l){var f=Ki(l,3);return Yi(f)?f:Zi(f)}function or(l){return Array.isArray?Array.isArray(l):l instanceof Object?l instanceof Array:Object.prototype.toString.call(l)==="[object Array]"}function De(l){return typeof l=="function"}function sr(l){return typeof l=="function"}function eo(l){switch(Ze(l)){case 3:return!0;case 4:return!0;default:return!1}}function ar(l,f){var g=l[f];if(g!=null){if(!De(g))throw new TypeError;return g}}function to(l){var f=ar(l,o);if(!De(f))throw new TypeError;var g=f.call(l);if(!V(g))throw new TypeError;return g}function no(l){return l.value}function ro(l){var f=l.next();return f.done?!1:f}function io(l){var f=l.return;f&&f.call(l)}function un(l){var f=Object.getPrototypeOf(l);if(typeof l!="function"||l===d||f!==d)return f;var g=l.prototype,b=g&&Object.getPrototypeOf(g);if(b==null||b===Object.prototype)return f;var T=b.constructor;return typeof T!="function"||T===l?f:T}function oo(){var l={},f=[],g=function(){function A(C,S,I){this._index=0,this._keys=C,this._values=S,this._selector=I}return A.prototype["@@iterator"]=function(){return this},A.prototype[o]=function(){return this},A.prototype.next=function(){var C=this._index;if(C>=0&&C<this._keys.length){var S=this._selector(this._keys[C],this._values[C]);return C+1>=this._keys.length?(this._index=-1,this._keys=f,this._values=f):this._index++,{value:S,done:!1}}return{value:void 0,done:!0}},A.prototype.throw=function(C){throw this._index>=0&&(this._index=-1,this._keys=f,this._values=f),C},A.prototype.return=function(C){return this._index>=0&&(this._index=-1,this._keys=f,this._values=f),{value:C,done:!0}},A}();return function(){function A(){this._keys=[],this._values=[],this._cacheKey=l,this._cacheIndex=-2}return Object.defineProperty(A.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),A.prototype.has=function(C){return this._find(C,!1)>=0},A.prototype.get=function(C){var S=this._find(C,!1);return S>=0?this._values[S]:void 0},A.prototype.set=function(C,S){var I=this._find(C,!0);return this._values[I]=S,this},A.prototype.delete=function(C){var S=this._find(C,!1);if(S>=0){for(var I=this._keys.length,M=S+1;M<I;M++)this._keys[M-1]=this._keys[M],this._values[M-1]=this._values[M];return this._keys.length--,this._values.length--,C===this._cacheKey&&(this._cacheKey=l,this._cacheIndex=-2),!0}return!1},A.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=l,this._cacheIndex=-2},A.prototype.keys=function(){return new g(this._keys,this._values,b)},A.prototype.values=function(){return new g(this._keys,this._values,T)},A.prototype.entries=function(){return new g(this._keys,this._values,W)},A.prototype["@@iterator"]=function(){return this.entries()},A.prototype[o]=function(){return this.entries()},A.prototype._find=function(C,S){return this._cacheKey!==C&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=C)),this._cacheIndex<0&&S&&(this._cacheIndex=this._keys.length,this._keys.push(C),this._values.push(void 0)),this._cacheIndex},A}();function b(A,C){return A}function T(A,C){return C}function W(A,C){return[A,C]}}function so(){return function(){function l(){this._map=new E}return Object.defineProperty(l.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),l.prototype.has=function(f){return this._map.has(f)},l.prototype.add=function(f){return this._map.set(f,f),this},l.prototype.delete=function(f){return this._map.delete(f)},l.prototype.clear=function(){this._map.clear()},l.prototype.keys=function(){return this._map.keys()},l.prototype.values=function(){return this._map.values()},l.prototype.entries=function(){return this._map.entries()},l.prototype["@@iterator"]=function(){return this.keys()},l.prototype[o]=function(){return this.keys()},l}()}function ao(){var l=16,f=u.create(),g=b();return function(){function S(){this._key=b()}return S.prototype.has=function(I){var M=T(I,!1);return M!==void 0?u.has(M,this._key):!1},S.prototype.get=function(I){var M=T(I,!1);return M!==void 0?u.get(M,this._key):void 0},S.prototype.set=function(I,M){var me=T(I,!0);return me[this._key]=M,this},S.prototype.delete=function(I){var M=T(I,!1);return M!==void 0?delete M[this._key]:!1},S.prototype.clear=function(){this._key=b()},S}();function b(){var S;do S="@@WeakMap@@"+C();while(u.has(f,S));return f[S]=!0,S}function T(S,I){if(!t.call(S,g)){if(!I)return;Object.defineProperty(S,g,{value:u.create()})}return S[g]}function W(S,I){for(var M=0;M<I;++M)S[M]=Math.random()*255|0;return S}function A(S){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(S)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(S)):W(new Uint8Array(S),S):W(new Array(S),S)}function C(){var S=A(l);S[6]=S[6]&79|64,S[8]=S[8]&191|128;for(var I="",M=0;M<l;++M){var me=S[M];(M===4||M===6||M===8)&&(I+="-"),me<16&&(I+="0"),I+=me.toString(16).toLowerCase()}return I}}function cn(l){return l.__=void 0,delete l.__,l}})})(Pr||(Pr={}));const ve=new WeakMap,Mt=new WeakMap,rt=new WeakMap,An=Symbol("anyProducer"),Ir=Promise.resolve(),kt=Symbol("listenerAdded"),Ut=Symbol("listenerRemoved");function Le(n){if(typeof n!="string"&&typeof n!="symbol")throw new TypeError("eventName must be a string or a symbol")}function Tt(n){if(typeof n!="function")throw new TypeError("listener must be a function")}function Fe(n,e){const t=Mt.get(n);return t.has(e)||t.set(e,new Set),t.get(e)}function it(n,e){const t=typeof e=="string"||typeof e=="symbol"?e:An,r=rt.get(n);return r.has(t)||r.set(t,new Set),r.get(t)}function Ca(n,e,t){const r=rt.get(n);if(r.has(e))for(const i of r.get(e))i.enqueue(t);if(r.has(An)){const i=Promise.all([e,t]);for(const o of r.get(An))o.enqueue(i)}}function Mr(n,e){e=Array.isArray(e)?e:[e];let t=!1,r=()=>{},i=[];const o={enqueue(s){i.push(s),r()},finish(){t=!0,r()}};for(const s of e)it(n,s).add(o);return{async next(){return i?i.length===0?t?(i=void 0,this.next()):(await new Promise(s=>{r=s}),this.next()):{done:!1,value:await i.shift()}:{done:!0}},async return(s){i=void 0;for(const a of e)it(n,a).delete(o);return r(),arguments.length>0?{done:!0,value:await s}:{done:!0}},[Symbol.asyncIterator](){return this}}}function Rr(n){if(n===void 0)return Nr;if(!Array.isArray(n))throw new TypeError("`methodNames` must be an array of strings");for(const e of n)if(!Nr.includes(e))throw typeof e!="string"?new TypeError("`methodNames` element must be a string"):new Error(`${e} is not Emittery method`);return n}const mn=n=>n===kt||n===Ut;class ce{static mixin(e,t){return t=Rr(t),r=>{if(typeof r!="function")throw new TypeError("`target` must be function");for(const s of t)if(r.prototype[s]!==void 0)throw new Error(`The property \`${s}\` already exists on \`target\``);function i(){return Object.defineProperty(this,e,{enumerable:!1,value:new ce}),this[e]}Object.defineProperty(r.prototype,e,{enumerable:!1,get:i});const o=s=>function(...a){return this[e][s](...a)};for(const s of t)Object.defineProperty(r.prototype,s,{enumerable:!1,value:o(s)});return r}}constructor(){ve.set(this,new Set),Mt.set(this,new Map),rt.set(this,new Map)}on(e,t){Tt(t),e=Array.isArray(e)?e:[e];for(const r of e)Le(r),Fe(this,r).add(t),mn(r)||this.emit(kt,{eventName:r,listener:t});return this.off.bind(this,e,t)}off(e,t){Tt(t),e=Array.isArray(e)?e:[e];for(const r of e)Le(r),Fe(this,r).delete(t),mn(r)||this.emit(Ut,{eventName:r,listener:t})}once(e){return new Promise(t=>{const r=this.on(e,i=>{r(),t(i)})})}events(e){e=Array.isArray(e)?e:[e];for(const t of e)Le(t);return Mr(this,e)}async emit(e,t){Le(e),Ca(this,e,t);const r=Fe(this,e),i=ve.get(this),o=[...r],s=mn(e)?[]:[...i];await Ir,await Promise.all([...o.map(async a=>{if(r.has(a))return a(t)}),...s.map(async a=>{if(i.has(a))return a(e,t)})])}async emitSerial(e,t){Le(e);const r=Fe(this,e),i=ve.get(this),o=[...r],s=[...i];await Ir;for(const a of o)r.has(a)&&await a(t);for(const a of s)i.has(a)&&await a(e,t)}onAny(e){return Tt(e),ve.get(this).add(e),this.emit(kt,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return Mr(this)}offAny(e){Tt(e),this.emit(Ut,{listener:e}),ve.get(this).delete(e)}clearListeners(e){e=Array.isArray(e)?e:[e];for(const t of e)if(typeof t=="string"||typeof t=="symbol"){Fe(this,t).clear();const r=it(this,t);for(const i of r)i.finish();r.clear()}else{ve.get(this).clear();for(const r of Mt.get(this).values())r.clear();for(const r of rt.get(this).values()){for(const i of r)i.finish();r.clear()}}}listenerCount(e){e=Array.isArray(e)?e:[e];let t=0;for(const r of e){if(typeof r=="string"){t+=ve.get(this).size+Fe(this,r).size+it(this,r).size+it(this).size;continue}typeof r<"u"&&Le(r),t+=ve.get(this).size;for(const i of Mt.get(this).values())t+=i.size;for(const i of rt.get(this).values())t+=i.size}return t}bindMethods(e,t){if(typeof e!="object"||e===null)throw new TypeError("`target` must be an object");t=Rr(t);for(const r of t){if(e[r]!==void 0)throw new Error(`The property \`${r}\` already exists on \`target\``);Object.defineProperty(e,r,{enumerable:!1,value:this[r].bind(this)})}}}const Nr=Object.getOwnPropertyNames(ce.prototype).filter(n=>n!=="constructor");ce.Typed=class extends ce{};Object.defineProperty(ce.Typed,"Typed",{enumerable:!1,value:void 0});Object.defineProperty(ce,"listenerAdded",{value:kt,writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(ce,"listenerRemoved",{value:Ut,writable:!1,enumerable:!0,configurable:!1});var lt=ce;const Oa=uo({__proto__:null,default:lt},[lt]);var je={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */je.parse=Ra;je.serialize=Na;var Pa=decodeURIComponent,Ia=encodeURIComponent,Ma=/; */,St=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Ra(n,e){if(typeof n!="string")throw new TypeError("argument str must be a string");for(var t={},r=e||{},i=n.split(Ma),o=r.decode||Pa,s=0;s<i.length;s++){var a=i[s],c=a.indexOf("=");if(!(c<0)){var u=a.substr(0,c).trim(),d=a.substr(++c,a.length).trim();d[0]=='"'&&(d=d.slice(1,-1)),t[u]==null&&(t[u]=ka(d,o))}}return t}function Na(n,e,t){var r=t||{},i=r.encode||Ia;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!St.test(n))throw new TypeError("argument name is invalid");var o=i(e);if(o&&!St.test(o))throw new TypeError("argument val is invalid");var s=n+"="+o;if(r.maxAge!=null){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!St.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!St.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite){var c=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(c){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s}function ka(n,e){try{return e(n)}catch{return n}}function N(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function m(n,e){return function(t,r){e(t,r,n)}}function B(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function U(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function $(n){const e="http://example.com",t=new URL(n,e),{hash:r,search:i,searchParams:o}=t;let{origin:s,pathname:a}=t;return s=s!==e?s:"",n.startsWith("//")&&(s=s.replace(t.protocol,"")),n.startsWith(s)&&!n.replace(s,"").startsWith("/")&&a.startsWith("/")&&(a=a.substring(1)),{hash:r,origin:s,pathname:a,search:i,searchParams:o,path:`${a}${i}${r}`}}function _e(n){var e,t,r,i,o,s,a;const c=(t=(e=n.searchParams)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:"",u=(r=n.search)!==null&&r!==void 0?r:`${c&&`?${c}`}`,d=(i=n.path)!==null&&i!==void 0?i:`${(o=n.pathname)!==null&&o!==void 0?o:""}${u}${(s=n.hash)!==null&&s!==void 0?s:""}`;return`${(a=n.origin)!==null&&a!==void 0?a:""}${d}`}function Oe(n,...e){const t=new URLSearchParams(n);return e.forEach(r=>r.forEach((i,o)=>t.set(o,i))),t}function Cn(n,e){const{hash:t,origin:r,pathname:i,searchParams:o}=$(n);return _e({hash:t,origin:r,pathname:i,searchParams:Oe(o,e)})}function vi(n,e){const{hash:t,origin:r,pathname:i,searchParams:o}=$(n),s=new URLSearchParams;return e.forEach(a=>{o.has(a)&&(s.set(a,o.get(a)),o.delete(a))}),{searchParams:s,url:_e({hash:t,origin:r,pathname:i,searchParams:o})}}function Ua(n){const{origin:e,pathname:t}=$(n);return!!e||t.startsWith("/")}function xa(n,e){const[t,r=""]=n.split("//",2),[i,o=""]=e.split("//",2);return!e||!n||(!t||!i||t===i)&&o===r}function Ba(n,e){return!e||n.startsWith(e)}function Da(n,e){let t=!0;return e.forEach((r,i)=>{t=t&&(!r&&n.has(i)||n.getAll(i).includes(r))}),t}function bi(n,e=""){const t=$(n),r=$(e);return xa(t.origin,r.origin)&&Ba(t.pathname,r.pathname)&&Da(t.searchParams,r.searchParams)}function La(n,e){const t=$(e),r=$(n),i=r.pathname.startsWith("/")?r.pathname:`${t.pathname}${t.pathname.endsWith("/")||!r.pathname?"":"/"}${r.pathname}`;return _e({pathname:i,hash:r.hash||t.hash,origin:r.origin||t.origin,searchParams:Oe(t.searchParams,r.searchParams)})}const Te=Symbol.for("UrlBuilderOptionsToken"),Ne=Symbol.for("UrlBuilderService");let On=class{constructor(e){var t,r;this.endpoint=$((t=e.endpoint)!==null&&t!==void 0?t:""),this.baseUrl=$((r=e.baseUrl)!==null&&r!==void 0?r:"")}getApiUrl(e){const{pathname:t,searchParams:r}=$(e);if(this.baseUrl.pathname&&!t.startsWith(this.baseUrl.pathname))throw new Error(`The path "${t}" does not start with the base path "${this.baseUrl.pathname}".`);const i=t.substring(this.baseUrl.pathname.length);return _e({origin:this.endpoint.origin,pathname:`${this.endpoint.pathname}${i}`,searchParams:Oe(r,this.endpoint.searchParams)})}getSpaUrl(e){const{hash:t,pathname:r,searchParams:i}=$(e),o=!r.startsWith("/")&&!this.baseUrl.pathname?`/${r}`:r;return _e({origin:this.baseUrl.origin,pathname:`${this.baseUrl.pathname}${o}`,searchParams:Oe(i,this.baseUrl.searchParams),hash:t||this.baseUrl.hash})}};On=N([R(),m(0,v(Te)),B("design:paramtypes",[Object])],On);function _i(){return new Je(n=>{n(Ne).to(On).inSingletonScope()})}const Fa="/resourceapi",ja="";let Pn=class{constructor(e){var t,r,i,o;this.apiBaseUrl=$((t=e.apiBaseUrl)!==null&&t!==void 0?t:`${(r=e.cmsBaseUrl)!==null&&r!==void 0?r:""}${Fa}`),this.cmsBaseUrl=$((i=e.cmsBaseUrl)!==null&&i!==void 0?i:""),this.spaBaseUrl=$((o=e.spaBaseUrl)!==null&&o!==void 0?o:ja)}getApiUrl(e){const{pathname:t,searchParams:r}=$(e);if(this.apiBaseUrl.pathname&&t.startsWith(this.apiBaseUrl.pathname))return _e({pathname:t,origin:this.apiBaseUrl.origin,searchParams:Oe(this.apiBaseUrl.searchParams,r)});if(this.spaBaseUrl.pathname&&!t.startsWith(this.spaBaseUrl.pathname))throw new Error(`The path "${t}" does not start with the base path "${this.spaBaseUrl.pathname}".`);const i=t.substring(this.spaBaseUrl.pathname.length);return _e({origin:this.apiBaseUrl.origin,pathname:`${this.apiBaseUrl.pathname}${i}`,searchParams:Oe(r,this.apiBaseUrl.searchParams)})}getSpaUrl(e){const{hash:t,pathname:r,searchParams:i}=$(e);let o=r.startsWith(this.cmsBaseUrl.pathname)?r.substring(this.cmsBaseUrl.pathname.length):r;return!o.startsWith("/")&&!this.spaBaseUrl.pathname&&(o=`/${o}`),_e({origin:this.spaBaseUrl.origin,pathname:`${this.spaBaseUrl.pathname}${o}`,searchParams:Oe(i,this.spaBaseUrl.searchParams),hash:t||this.spaBaseUrl.hash})}};Pn=N([R(),m(0,v(Te)),B("design:paramtypes",[Object])],Pn);function wi(){return new Je(n=>{n(Ne).to(Pn).inSingletonScope()})}function Jn(n){return class extends n{constructor(){super(...arguments),this.emitter=new lt.Typed,this.on=this.emitter.on.bind(this.emitter),this.off=this.emitter.off.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter)}}}const kr="brxm:event",yn="brxm:response",Ur="brxm:request",Va="fulfilled",xr="rejected";class $a{}class Wa extends Jn($a){constructor(){super(...arguments),this.calls=new Map,this.callbacks=new Map}generateId(){let e;do e=`${Math.random()}`.slice(2);while(this.calls.has(e));return e}call(e,...t){return new Promise((r,i)=>{const o=this.generateId();this.calls.set(o,[r,i]),this.send({id:o,command:e,payload:t,type:Ur})})}register(e,t){this.callbacks.set(e,t)}trigger(e,t){this.send({event:e,payload:t,type:kr})}process(e){switch(e==null?void 0:e.type){case kr:this.processEvent(e);break;case yn:this.processResponse(e);break;case Ur:this.processRequest(e);break}}processEvent(e){this.emit(e.event,e.payload)}processResponse(e){if(!this.calls.has(e.id))return;const[t,r]=this.calls.get(e.id);this.calls.delete(e.id),e.state===xr&&r(e.result),t(e.result)}processRequest(e){return U(this,void 0,void 0,function*(){const t=this.callbacks.get(e.command);if(t)try{this.send({type:yn,id:e.id,state:Va,result:yield t(...e.payload)})}catch(r){this.send({result:r,type:yn,id:e.id,state:xr})}})}}var Z;(function(n){n.Debug="debug",n.Info="info",n.Warn="warn",n.Error="error"})(Z||(Z={}));let L=class{constructor(){this.level=Z.Error,this.debug=this.log.bind(this,Z.Debug),this.info=this.log.bind(this,Z.Info),this.warn=this.log.bind(this,Z.Warn),this.error=this.log.bind(this,Z.Error)}log(e,...t){const r=Object.values(Z);!r.includes(e)||r.indexOf(e)<r.indexOf(this.level)||this.write(e,"[SPA]",`[${e.toUpperCase()}]`,...t)}};L=N([R(),B("design:paramtypes",[])],L);const Ei=Symbol.for("ConsoleToken");let xt=class extends L{constructor(e){super(),this.console=e}write(e,...t){this.console[e](...t)}};xt=N([R(),m(0,v(Ei)),B("design:paramtypes",[Object])],xt);function za(){return new Je(n=>{n(Ei).toConstantValue(console),n(xt).toSelf().inSingletonScope(),n(L).toService(xt)})}const Ga=typeof window>"u"?void 0:window;let In=class extends Wa{constructor(e){super(),this.logger=e,this.onMessage=this.onMessage.bind(this)}initialize({origin:e,window:t=Ga}){var r,i;(r=this.window)===null||r===void 0||r.removeEventListener("message",this.onMessage,!1),this.origin=e,this.window=t,(i=this.window)===null||i===void 0||i.addEventListener("message",this.onMessage,!1)}send(e){var t,r,i;this.origin&&((t=this.logger)===null||t===void 0||t.debug("[OUTGOING]",`[${this.origin}]`,e),(i=(r=this.window)===null||r===void 0?void 0:r.parent)===null||i===void 0||i.postMessage(e,this.origin))}onMessage(e){var t,r;!e.data||!bi(e.origin,this.origin==="*"?"":this.origin)||(!((t=e.data)===null||t===void 0)&&t.type&&((r=this.logger)===null||r===void 0||r.debug("[INCOMING]",`[${e.origin}]`,e.data)),this.process(e.data))}};In=N([R(),m(0,v(L)),m(0,Y()),B("design:paramtypes",[L])],In);var Ha=Object.freeze({__proto__:null,get PostMessage(){return In}});const Pe=Symbol.for("CmsService"),dt=Symbol("CmsEventBusService"),rn=Symbol("CmsEventBusServiceProvider"),ot=Symbol.for("PostMessageService"),qa=Symbol.for("RpcClientService"),Ja=Symbol.for("RpcServerService"),Yn=new Aa(n=>U(void 0,void 0,void 0,function*(){const{default:e}=yield ue(()=>Promise.resolve().then(()=>Oa),void 0),{CmsImpl:t}=yield ue(()=>import("./cms-4431bd87-b46a3cf7.js"),[]),{Cms14Impl:r}=yield ue(()=>import("./cms14-3409f051-45057819.js"),[]),{PostMessage:i}=yield Promise.resolve().then(function(){return Ha});n(dt).toDynamicValue(()=>new e.Typed).inSingletonScope().when(()=>typeof window<"u"),n(ot).to(i).inSingletonScope(),n(qa).toService(ot),n(Ja).toService(ot),n(Pe).to(t).inSingletonScope().whenTargetIsDefault(),n(Pe).to(r).inSingletonScope().whenTargetNamed("cms14")}));function Ti(n){var e,t;return!!(!((e=n==null?void 0:n.options)===null||e===void 0)&&e.live&&(!((t=n==null?void 0:n.options)===null||t===void 0)&&t.preview))}function Ya(n){return!!(n!=null&&n.cmsBaseUrl)}const Ka="external",_t="internal",Si="resource",Qa="unknown";function Ai(n){return!!n&&(Object.prototype.hasOwnProperty.call(n,"href")||Object.prototype.hasOwnProperty.call(n,"type")&&[Ka,_t,Si,Qa].includes(n.type))}class Ye{constructor(){this.mapping=new Map}register(e,t){return this.mapping.set(e,t),this}}let x=class extends Ye{create(e){return Ai(e)?this.createLink(e):this.createPath(e)}createLink(e){return!e.type||typeof e.href>"u"||!this.mapping.has(e.type)?e.href:this.mapping.get(e.type)(e.href)}createPath(e){return this.createLink({href:e,type:_t})}};x=N([R()],x);const K=Symbol.for("MetaCollectionFactory"),We=Symbol.for("ComponentChildrenToken"),ne=Symbol.for("ComponentModelToken"),Xa="component",Za="container",eu="container-item",tu="componentcontent";let ze=class{constructor(e,t,r,i){this.model=e,this.children=t,this.linkFactory=r,this.meta=i(this.model.meta)}getId(){return this.model.id}getMeta(){return this.meta}getModels(){return this.model.models||{}}getUrl(){return this.linkFactory.create(this.model.links.self)}getName(){return this.model.name||""}getParameters(){var e;return(e=this.model.meta.params)!==null&&e!==void 0?e:{}}getProperties(){return this.getParameters()}getChildren(){return this.children}getComponent(...e){let t=this;for(;e.length&&t;){const r=e.shift();t=t.getChildren().find(i=>i.getName()===r)}return t}getComponentById(e){const t=[this];for(;t.length;){const r=t.shift();if(r.getId()===e)return r;t.push(...r.getChildren())}}};ze=N([R(),m(0,v(ne)),m(1,v(We)),m(2,v(x)),m(3,v(K)),B("design:paramtypes",[Object,Array,x,Function])],ze);const nu="COMPONENT",ru="CONTAINER_ITEM_COMPONENT",iu="CONTAINER_COMPONENT";let Ge=class{constructor(e,t,r,i){this.model=e,this.children=t,this.urlBuilder=i,this.meta=r(this.model._meta)}getId(){return this.model.id}getMeta(){return this.meta}getModels(){return this.model.models||{}}getUrl(){return this.urlBuilder.getApiUrl(this.model._links.componentRendering.href)}getName(){return this.model.name||""}getParameters(){var e;return(e=this.model._meta.params)!==null&&e!==void 0?e:{}}getProperties(){return this.getParameters()}getChildren(){return this.children}getComponent(...e){let t=this;for(;e.length&&t;){const r=e.shift();t=t.getChildren().find(i=>i.getName()===r)}return t}getComponentById(e){const t=[this];for(;t.length;){const r=t.shift();if(r.getId()===e)return r;t.push(...r.getChildren())}}};Ge=N([R(),m(0,v(ne)),m(1,v(We)),m(2,v(K)),m(3,v(Ne)),B("design:paramtypes",[Object,Array,Function,Object])],Ge);let Bt=class extends ze{getChildren(){return this.children}getType(){var e;return(e=this.model.xtype)===null||e===void 0?void 0:e.toLowerCase()}};Bt=N([R()],Bt);let Dt=class extends Ge{getChildren(){return this.children}getType(){var e;return(e=this.model.xtype)===null||e===void 0?void 0:e.toLowerCase()}};Dt=N([R()],Dt);const ke=Symbol("PageEventBusService");function Ci(n){return!!(n!=null&&n.$ref)}function Ve(n,e){return e.$ref.split("/").reduce((t,r)=>r?t==null?void 0:t[r]:n,n)}function ou(n,e){const t=n.getContentReference();if(!t)return null;const r=e.getContent(t);return!r||(r==null?void 0:r.type)!==tu?null:r.data}let Lt=class extends Jn(ze){constructor(e,t,r,i,o){super(e,[],t,r),this.model=e,this.metaFactory=r,this.logger=o,i==null||i.on("page.update",this.onPageUpdate.bind(this))}onPageUpdate(e){var t,r;const i=e.page,o=Ve(i,i.root);(o==null?void 0:o.id)===this.getId()&&((t=this.logger)===null||t===void 0||t.debug("Received container item update event."),(r=this.logger)===null||r===void 0||r.debug("Event:",e),this.model=o,this.meta=this.metaFactory(o.meta),this.emit("update",{}))}getLabel(){return this.model.label}getType(){var e;return(e=this.model.ctype)!==null&&e!==void 0?e:this.model.label}isHidden(){return!!this.model.meta.hidden}getParameters(){var e;return(e=this.model.meta.paramsInfo)!==null&&e!==void 0?e:{}}getContent(e){return ou(this,e)}getContentReference(){return this.model.content}};Lt=N([R(),m(0,v(ne)),m(1,v(x)),m(2,v(K)),m(3,v(ke)),m(3,Y()),m(4,v(L)),m(4,Y()),B("design:paramtypes",[Object,x,Function,Object,L])],Lt);let Ft=class extends Jn(Ge){constructor(e,t,r,i,o){super(e,[],t,r),this.model=e,this.metaFactory=t,this.logger=o,i==null||i.on("page.update",this.onPageUpdate.bind(this))}onPageUpdate(e){var t,r;const{page:i}=e.page;i.id===this.getId()&&((t=this.logger)===null||t===void 0||t.debug("Received container item update event."),(r=this.logger)===null||r===void 0||r.debug("Event:",e),this.model=i,this.meta=this.metaFactory(i._meta),this.emit("update",{}))}getLabel(){return this.model.label}getType(){var e;return(e=this.model.ctype)!==null&&e!==void 0?e:this.model.label}isHidden(){return!!this.model._meta.hidden}getParameters(){var e;return(e=this.model._meta.paramsInfo)!==null&&e!==void 0?e:{}}getContent(){var e;return(e=this.logger)===null||e===void 0||e.warn('The method "getContent" is not supported in PMA 0.9 and always returns "null".'),null}getContentReference(){var e;(e=this.logger)===null||e===void 0||e.warn('The method "getContentReference" is not supported in PMA 0.9 and always returns "undefined".')}};Ft=N([R(),m(0,v(ne)),m(1,v(K)),m(2,v(Ne)),m(3,v(ke)),m(3,Y()),m(4,v(L)),m(4,Y()),B("design:paramtypes",[Object,Function,Object,Object,L])],Ft);let He=class extends Ye{create(e,t){const r=this.mapping.get(e.type);if(!r)throw new Error(`Unsupported meta type: '${e.type}'.`);return r(e,t)}};He=N([R()],He);const jt="comment",Mn="begin",Rn="end";class su{constructor(e,t){this.model=e,this.position=t}getData(){return this.model.data}getPosition(){return this.position}}const au=/^<!--(.*)-->$/;class Kn extends su{getData(){const e=super.getData(),[,t=e]=e.match(au)||[];return t}}function Br(n){return n instanceof Kn}var Nn;const Qn=Symbol.for("MetaCollectionModelToken");let Ie=Nn=class extends Array{constructor(e,t){super(...(e.beginNodeSpan||[]).map(i=>t.create(i,Mn)),...(e.endNodeSpan||[]).map(i=>t.create(i,Rn))),this.comments=[];const r=Object.create(Nn.prototype);r.constructor=Array.prototype.constructor,Object.setPrototypeOf(this,r),Object.freeze(this)}clear(e=[...this.comments]){e.forEach(t=>{t.remove();const r=this.comments.indexOf(t);r>-1&&this.comments.splice(r,1)})}render(e,t){var r;const i=(r=e.ownerDocument)!==null&&r!==void 0?r:t.ownerDocument,o=i?[...this.filter(Br).filter(s=>s.getPosition()===Mn).map(s=>i.createComment(s.getData())).map(s=>{var a;return(a=e.parentNode)===null||a===void 0||a.insertBefore(s,e),s}),...this.filter(Br).filter(s=>s.getPosition()===Rn).reverse().map(s=>i.createComment(s.getData())).map(s=>{var a,c;return t.nextSibling?(a=t.parentNode)===null||a===void 0||a.insertBefore(s,t.nextSibling):(c=t.parentNode)===null||c===void 0||c.appendChild(s),s})]:[];return this.comments.push(...o),this.clear.bind(this,o)}};Ie=Nn=N([R(),m(0,v(Qn)),m(1,v(He)),B("design:paramtypes",[Object,He])],Ie);function uu(n){return n instanceof Ie}let Se=class extends Ye{constructor(e){super(),this.metaCollectionFactory=e}create(e,...t){if(!this.mapping.has(e))throw new Error(`Unsupported button type: '${e}'.`);const r=this.mapping.get(e)(...t);return uu(r)?r:this.metaCollectionFactory(r)}};Se=N([R(),m(0,v(K)),B("design:paramtypes",[Function])],Se);let ht=class extends Ye{create(e){var t,r;const i=[e.root],o=new Map;for(let s=0;s<i.length;s++)i.push(...(r=(t=Ve(e,i[s]))===null||t===void 0?void 0:t.children)!==null&&r!==void 0?r:[]);return i.reverse().reduce((s,a)=>{var c,u;const d=Ve(e,a),p=(u=(c=d==null?void 0:d.children)===null||c===void 0?void 0:c.map(w=>o.get(Ve(e,w))))!==null&&u!==void 0?u:[],E=this.buildComponent(d,p);return o.set(d,E),E},void 0)}buildComponent(e,t){const r=this.mapping.get(e.type);if(!r)throw new Error(`Unsupported component type: '${e.type}'.`);return r(e,t)}};ht=N([R()],ht);let ft=class extends Ye{create(e){return this.mapping.has(e.type)?this.mapping.get(e.type)(e):e}};ft=N([R()],ft);const Xn=Symbol.for("DomParserService"),on=Symbol.for("LinkRewriterService"),Zn=Symbol.for("XmlSerializerService"),cu=/^<body.*?>(.*)<\/body>$/s;let Vt=class{constructor(e,t,r){this.linkFactory=e,this.domParserProvider=t,this.xmlSerializerProvider=r}rewrite(e,t="text/html"){return U(this,void 0,void 0,function*(){const i=(yield this.domParserProvider()).parseFromString(`<body>${e}</body>`,t);return this.rewriteAnchors(i),this.rewriteImages(i),(yield this.xmlSerializerProvider()).serializeToString(i).replace(cu,"$1")})}rewriteAnchors(e){Array.from(e.getElementsByTagName("a")).filter(t=>t.hasAttribute("href")&&t.hasAttribute("data-type")).forEach(t=>{var r;const i=this.linkFactory.create({href:(r=t.getAttribute("href"))!==null&&r!==void 0?r:void 0,type:t.getAttribute("data-type")});i&&t.setAttribute("href",i)})}rewriteImages(e){Array.from(e.getElementsByTagName("img")).filter(t=>t.hasAttribute("src")).forEach(t=>{var r;const i=this.linkFactory.create({href:(r=t.getAttribute("src"))!==null&&r!==void 0?r:void 0,type:Si});i&&t.setAttribute("src",i)})}};Vt=N([R(),m(0,v(x)),m(1,v(Xn)),m(2,v(Zn)),B("design:paramtypes",[x,Function,Function])],Vt);const sn=Symbol.for("PageModelToken");let pt=class{constructor(e,t,r,i,o,s,a,c,u,d){this.model=e,this.buttonFactory=t,this.contentFactory=i,this.linkFactory=o,this.linkRewriter=s,this.metaFactory=a,this.cmsEventBusProvider=c,this.logger=d,this.content=new WeakMap,u==null||u.on("page.update",this.onPageUpdate.bind(this)),this.root=r.create(e)}onPageUpdate(e){Object.assign(this.model.page,e.page.page)}getButton(e,...t){return this.buttonFactory.create(e,...t)}getChannelParameters(){return this.model.channel.info.props}getComponent(...e){var t;return(t=this.root)===null||t===void 0?void 0:t.getComponent(...e)}getContent(e){const t=Ve(this.model,Ci(e)?e:{$ref:`/page/${e}`});if(t)return this.content.has(t)||this.content.set(t,this.contentFactory.create(t)),this.content.get(t)}getDocument(){return this.model.document&&this.getContent(this.model.document)}getLocale(){return this.model.meta.locale||"en_US"}getMeta(e){return this.metaFactory(e)}getTitle(){var e,t;return(t=(e=Ve(this.model,this.model.root))===null||e===void 0?void 0:e.meta)===null||t===void 0?void 0:t.pageTitle}getUrl(e){var t,r,i;return typeof e>"u"||Ai(e)||Ua(e)?this.linkFactory.create((r=(t=e)!==null&&t!==void 0?t:this.model.links.site)!==null&&r!==void 0?r:""):La(e,(i=this.linkFactory.create(this.model.links.site))!==null&&i!==void 0?i:"")}getVersion(){return this.model.meta.version}getVisitor(){return this.model.meta.visitor}getVisit(){return this.model.meta.visit}isPreview(){return!!this.model.meta.preview}rewriteLinks(e,t="text/html"){return U(this,void 0,void 0,function*(){return this.linkRewriter.rewrite(e,t)})}sync(){return U(this,void 0,void 0,function*(){const e=yield this.cmsEventBusProvider();e==null||e.emit("page.ready",{})})}toJSON(){return this.model}sanitize(e){return U(this,void 0,void 0,function*(){const{default:t}=yield ue(()=>import("./index-15ab078c.js").then(r=>r.i),[]);return t(e,{allowedAttributes:{a:["href","name","target","title","data-type","rel"]}})})}prepareHTML(e,t){var r,i;return U(this,void 0,void 0,function*(){const o=e&&this.getContent(e);if(!o)return(r=this.logger)===null||r===void 0||r.warn(`Document reference "${e}" not found in page model`),null;const s=o.getData(),a=t&&(s==null?void 0:s[t]);return a?this.rewriteLinks(yield this.sanitize(a.value)):((i=this.logger)===null||i===void 0||i.warn(`Data field name "${t}" not found in document data model`),null)})}};pt=N([R(),m(0,v(sn)),m(1,v(Se)),m(2,v(ht)),m(3,v(ft)),m(4,v(x)),m(5,v(on)),m(6,v(K)),m(7,v(rn)),m(8,v(ke)),m(8,Y()),m(9,v(L)),m(9,Y()),B("design:paramtypes",[Object,Se,ht,ft,x,Object,Function,Function,Object,L])],pt);function lu(n){return n instanceof pt}let gt=class extends Ye{create(e){var t,r;let i;const o=[{model:e}];for(;o.length;){const s=o.shift();if(!s.children&&(!((t=s.model.components)===null||t===void 0)&&t.length)){s.children=[],o.unshift(...s.model.components.map(a=>({model:a,siblings:s.children})),s);continue}i=this.buildComponent(s.model,(r=s.children)!==null&&r!==void 0?r:[]),s.siblings&&s.siblings.push(i)}return i}buildComponent(e,t){const r=this.mapping.get(e.type);if(!r)throw new Error(`Unsupported component type: '${e.type}'.`);return r(e,t)}};gt=N([R()],gt);const Oi=Symbol.for("ContentFactory");var kn;let mt=kn=class{constructor(e,t,r,i,o,s,a,c,u,d){this.model=e,this.buttonFactory=t,this.contentFactory=i,this.linkFactory=o,this.linkRewriter=s,this.metaFactory=a,this.cmsEventBusProvider=c,this.logger=d,u==null||u.on("page.update",this.onPageUpdate.bind(this)),this.root=r.create(e.page),this.content=new Map(Object.entries(e.content||{}).map(([p,E])=>[p,this.contentFactory(E)]))}onPageUpdate(e){Object.entries(e.page.content||{}).forEach(([t,r])=>this.content.set(t,this.contentFactory(r)))}static getContentReference(e){return e.$ref.split("/",3)[2]||""}getButton(e,...t){return this.buttonFactory.create(e,...t)}getChannelParameters(){var e,t;return(t=(e=this.model.channel)===null||e===void 0?void 0:e.info.props)!==null&&t!==void 0?t:{}}getComponent(...e){return this.root.getComponent(...e)}getContent(e){const t=Ci(e)?kn.getContentReference(e):e;return this.content.get(t)}getDocument(){throw new Error("The page document is not supported by this version of the Page Model API.")}getLocale(){throw new Error("The locale is not supported by this version of the Page Model API.")}getMeta(e){return this.metaFactory(e)}getTitle(){return this.model.page._meta.pageTitle}getUrl(e){var t;return this.linkFactory.create((t=e)!==null&&t!==void 0?t:Object.assign(Object.assign({},this.model._links.site),{type:_t}))}getVersion(){return this.model._meta.version}getVisitor(){return this.model._meta.visitor}getVisit(){return this.model._meta.visit}isPreview(){return!!this.model._meta.preview}rewriteLinks(e,t="text/html"){return U(this,void 0,void 0,function*(){return this.linkRewriter.rewrite(e,t)})}sync(){return U(this,void 0,void 0,function*(){const e=yield this.cmsEventBusProvider();e==null||e.emit("page.ready",{})})}toJSON(){return this.model}sanitize(e){return U(this,void 0,void 0,function*(){const{default:t}=yield ue(()=>import("./index-15ab078c.js").then(r=>r.i),[]);return t(e,{allowedAttributes:{a:["href","name","target","title","data-type","rel"]}})})}prepareHTML(e,t){var r,i;return U(this,void 0,void 0,function*(){const o=e&&this.getContent(e);if(!o)return(r=this.logger)===null||r===void 0||r.warn(`Document reference "${e}" not found in page model`),null;const s=o.getData(),a=t&&(s==null?void 0:s[t]);return a?this.rewriteLinks(yield this.sanitize(a.value)):((i=this.logger)===null||i===void 0||i.warn(`Data field name "${t}" not found in document data model`),null)})}};mt=kn=N([R(),m(0,v(sn)),m(1,v(Se)),m(2,v(gt)),m(3,v(Oi)),m(4,v(x)),m(5,v(on)),m(6,v(K)),m(7,v(rn)),m(8,v(ke)),m(8,Y()),m(9,v(L)),m(9,Y()),B("design:paramtypes",[Object,Se,gt,Function,x,Object,Function,Function,Object,L])],mt);function du(n){return n instanceof mt}const Pi=Symbol.for("ContentModelToken");let $t=class{constructor(e,t,r){var i;this.model=e,this.linkFactory=t,this.meta=r((i=this.model._meta)!==null&&i!==void 0?i:{})}getId(){return this.model.id}getLocale(){return this.model.localeString}getMeta(){return this.meta}getName(){return this.model.name}getData(){return this.model}getUrl(){return this.linkFactory.create(this.model._links.site)}};$t=N([R(),m(0,v(Pi)),m(1,v(x)),m(2,v(K)),B("design:paramtypes",[Object,x,Function])],$t);const Ii=Symbol.for("DocumentModelToken"),hu="document";let Wt=class{constructor(e,t,r){var i;this.model=e,this.linkFactory=t,this.meta=r((i=this.model.meta)!==null&&i!==void 0?i:{})}getId(){return this.model.data.id}getLocale(){return this.model.data.localeString}getMeta(){return this.meta}getName(){return this.model.data.name}getData(){return this.model.data}getUrl(){return this.linkFactory.create(this.model.links.site)}};Wt=N([R(),m(0,v(Ii)),m(1,v(x)),m(2,v(K)),B("design:paramtypes",[Object,x,Function])],Wt);const Mi=Symbol.for("ImageFactory"),Ri=Symbol.for("ImageModelToken");let zt=class{constructor(e,t){this.model=e,this.linkFactory=t}getDisplayName(){return this.model.displayName}getFileName(){var e;return(e=this.model.fileName)!==null&&e!==void 0?e:void 0}getHeight(){return this.model.height}getMimeType(){return this.model.mimeType}getName(){return this.model.name}getSize(){return this.model.size}getUrl(){return this.model.links.site&&this.linkFactory.create(this.model.links.site)}getWidth(){return this.model.width}};zt=N([R(),m(0,v(Ri)),m(1,v(x)),B("design:paramtypes",[Object,x])],zt);const Ni=Symbol.for("ImageSetModelToken"),fu="imageset";let Gt=class{constructor(e,t){this.model=e,this.original=e.data.original?t(e.data.original):void 0,this.thumbnail=e.data.thumbnail?t(e.data.thumbnail):void 0}getDescription(){var e;return(e=this.model.data.description)!==null&&e!==void 0?e:void 0}getDisplayName(){return this.model.data.displayName}getFileName(){var e;return(e=this.model.data.fileName)!==null&&e!==void 0?e:void 0}getId(){return this.model.data.id}getLocale(){var e;return(e=this.model.data.localeString)!==null&&e!==void 0?e:void 0}getName(){return this.model.data.name}getOriginal(){return this.original}getThumbnail(){return this.thumbnail}};Gt=N([R(),m(0,v(Ni)),m(1,v(Mi)),B("design:paramtypes",[Object,Function])],Gt);const er="MANAGE_CONTENT_LINK";function ki(n){var e;const t=(e=n.content)===null||e===void 0?void 0:e.getMeta(),r=[["defaultPath",n.path],["documentTemplateQuery",n.documentTemplateQuery],["folderTemplateQuery",n.folderTemplateQuery],["rootPath",n.root],["parameterName",n.parameter],["parameterValueIsRelativePath",n.relative?"true":void 0],["pickerEnableUpload",n.pickerEnableUpload],["pickerConfiguration",n.pickerConfiguration],["pickerInitialPath",n.pickerInitialPath],["pickerRemembersLastVisited",n.pickerRemembersLastVisited?"true":void 0],["pickerRootPath",n.pickerRootPath],["pickerSelectableNodeTypes",n.pickerSelectableNodeTypes]].filter(([,s])=>!!s);if(!r.length)return t??{};const i=Object.fromEntries(r);if(!t)return{beginNodeSpan:[{type:jt,data:JSON.stringify(Object.assign({"HST-Type":er},i))}]};const o=s=>({type:jt,data:JSON.stringify(Object.assign(JSON.parse(s.getData()),i))});return{beginNodeSpan:t.filter(s=>s.getPosition()===Mn).map(o),endNodeSpan:t.filter(s=>s.getPosition()===Rn).map(o)}}const tr=Symbol.for("MenuItemFactory"),Ui=Symbol.for("MenuItemModelToken");let Ht=class{constructor(e,t,r){this.model=e,this.linkFactory=t,this.children=e.childMenuItems.map(r)}getChildren(){return this.children}getDepth(){return this.model.depth}getLink(){return this.model.links.site}getName(){return this.model.name}getParameters(){return this.model.parameters}getUrl(){return this.model.links.site&&this.linkFactory.create(this.model.links.site)}isExpanded(){return this.model.expanded}isRepositoryBased(){return this.model.repositoryBased}isSelected(){return this.model.selected}};Ht=N([R(),m(0,v(Ui)),m(1,v(x)),m(2,v(tr)),B("design:paramtypes",[Object,x,Function])],Ht);const xi=Symbol.for("MenuModelToken"),Bi="EDIT_MENU_LINK",pu="menu";let qt=class{constructor(e,t,r){this.model=e,this.items=e.data.siteMenuItems.map(r),this.meta=t(e.meta),this.selected=e.data.selectSiteMenuItem?r(e.data.selectSiteMenuItem):void 0}getItems(){return this.items}getMeta(){return this.meta}getName(){return this.model.data.name}getSelected(){return this.selected}};qt=N([R(),m(0,v(xi)),m(1,v(K)),m(2,v(tr)),B("design:paramtypes",[Object,Function,Function])],qt);const nr=Symbol.for("PageFactory"),Di=Symbol.for("PaginationItemFactory"),Li=Symbol.for("PaginationItemModelToken");let Jt=class{constructor(e,t){this.model=e,this.linkFactory=t}getNumber(){return this.model.number}getUrl(){return this.linkFactory.create(this.model.links.site)}};Jt=N([R(),m(0,v(Li)),m(1,v(x)),B("design:paramtypes",[Object,x])],Jt);const Fi=Symbol.for("PaginationModelToken"),gu="pagination";let Yt=class{constructor(e,t){this.model=e,this.current=t(e.current),this.first=t(e.first),this.last=t(e.last),this.next=e.next?t(e.next):void 0,this.previous=e.previous?t(e.previous):void 0,this.pages=e.pages.map(t)}getCurrent(){return this.current}getFirst(){return this.first}getItems(){return this.model.items}getLast(){return this.last}getNext(){return this.next}getOffset(){return this.model.offset}getPages(){return this.pages}getPrevious(){return this.previous}getSize(){return this.model.size}getTotal(){return this.model.total}isEnabled(){return this.model.enabled}};Yt=N([R(),m(0,v(Fi)),m(1,v(Di)),B("design:paramtypes",[Object,Function])],Yt);function mu(){return new Je(n=>{n(ke).toDynamicValue(()=>new lt.Typed).inSingletonScope().when(()=>typeof window<"u"),n(rn).toProvider(e=>()=>new Promise(t=>{try{if(e.container.isBound(dt)){const r=e.container.get(dt);t(r)}}catch{t(void 0)}})),n(on).to(Vt).inSingletonScope(),n(Xn).toProvider(()=>()=>U(this,void 0,void 0,function*(){const{DOMParser:e}=yield ue(()=>import("./index-bde0f382.js").then(t=>t.i),[]);return new e})),n(Zn).toProvider(()=>()=>U(this,void 0,void 0,function*(){const{XMLSerializer:e}=yield ue(()=>import("./index-bde0f382.js").then(t=>t.i),[]);return new e})),n(Se).toSelf().inSingletonScope().onActivation((e,t)=>t.register(er,ki).register(Bi,r=>r.getMeta())),n(x).toSelf().inSingletonScope().onActivation(({container:e},t)=>{const r=e.get(Ne);return t.register(_t,r.getSpaUrl.bind(r))}),n(K).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(Ie).toSelf(),r.bind(Qn).toConstantValue(t),r.get(Ie)}),n(He).toSelf().inSingletonScope().onActivation((e,t)=>t.register(jt,(r,i)=>new Kn(r,i))),n(tr).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(Ht).toSelf(),r.bind(Ui).toConstantValue(t),r.get(Ht)}),n(Mi).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(zt).toSelf(),r.bind(Ri).toConstantValue(t),r.get(zt)}),n(Di).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(Jt).toSelf(),r.bind(Li).toConstantValue(t),r.get(Jt)}),n(ft).toSelf().inSingletonScope().onActivation(({container:e},t)=>t.register(hu,r=>{const i=e.createChild();return i.bind(Wt).toSelf(),i.bind(Ii).toConstantValue(r),i.get(Wt)}).register(fu,r=>{const i=e.createChild();return i.bind(Gt).toSelf(),i.bind(Ni).toConstantValue(r),i.get(Gt)}).register(pu,r=>{const i=e.createChild();return i.bind(qt).toSelf(),i.bind(xi).toConstantValue(r),i.get(qt)}).register(gu,r=>{const i=e.createChild();return i.bind(Yt).toSelf(),i.bind(Fi).toConstantValue(r),i.get(Yt)})),n(ht).toSelf().inSingletonScope().onActivation(({container:e},t)=>t.register(Xa,(r,i)=>{const o=e.createChild();return o.bind(ze).toSelf(),o.bind(ne).toConstantValue(r),o.bind(We).toConstantValue(i),o.get(ze)}).register(Za,(r,i)=>{const o=e.createChild();return o.bind(Bt).toSelf(),o.bind(ne).toConstantValue(r),o.bind(We).toConstantValue(i),o.get(Bt)}).register(eu,r=>{const i=e.createChild();return i.bind(Lt).toSelf(),i.bind(ne).toConstantValue(r),i.get(Lt)})),n(nr).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(pt).toSelf(),r.bind(sn).toConstantValue(t),r.get(pt)})})}function ji(){return new Je(n=>{n(ke).toDynamicValue(()=>new lt.Typed).inSingletonScope().when(()=>typeof window<"u"),n(rn).toProvider(e=>()=>new Promise(t=>{let r;e.container.isBound(dt)&&(r=e.container.get(dt)),t(r)})),n(on).to(Vt).inSingletonScope(),n(Xn).toProvider(()=>()=>U(this,void 0,void 0,function*(){const{DOMParser:e}=yield ue(()=>import("./index-bde0f382.js").then(t=>t.i),[]);return new e})),n(Zn).toProvider(()=>()=>U(this,void 0,void 0,function*(){const{XMLSerializer:e}=yield ue(()=>import("./index-bde0f382.js").then(t=>t.i),[]);return new e})),n(Se).toSelf().inSingletonScope().onActivation((e,t)=>t.register(er,ki).register(Bi,({_meta:r})=>r??{})),n(x).toSelf().inSingletonScope().onActivation(({container:e},t)=>{const r=e.get(Ne);return t.register(_t,r.getSpaUrl.bind(r))}),n(K).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(Ie).toSelf(),r.bind(Qn).toConstantValue(t),r.get(Ie)}),n(He).toSelf().inSingletonScope().onActivation((e,t)=>t.register(jt,(r,i)=>new Kn(r,i))),n(Oi).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind($t).toSelf(),r.bind(Pi).toConstantValue(t),r.get($t)}),n(gt).toSelf().inSingletonScope().onActivation(({container:e},t)=>t.register(nu,(r,i)=>{const o=e.createChild();return o.bind(Ge).toSelf(),o.bind(ne).toConstantValue(r),o.bind(We).toConstantValue(i),o.get(Ge)}).register(iu,(r,i)=>{const o=e.createChild();return o.bind(Dt).toSelf(),o.bind(ne).toConstantValue(r),o.bind(We).toConstantValue(i),o.get(Dt)}).register(ru,r=>{const i=e.createChild();return i.bind(Ft).toSelf(),i.bind(ne).toConstantValue(r),i.get(Ft)})),n(nr).toFactory(({container:e})=>t=>{const r=e.createChild();return r.bind(mt).toSelf(),r.bind(sn).toConstantValue(t),r.get(mt)})})}function yu(n){return lu(n)||du(n)}class yt{static SET_COOKIE(e,t,r){if(this.isWindowAvailable()&&e&&t){const i=r>this.MAX_TTL_DAYS?this.getSeconds(this.MAX_TTL_DAYS):this.getSeconds(r);document.cookie=je.serialize(e,t,{maxAge:i})}}static GET_COOKIE(){var e;return this.isWindowAvailable()?je.parse((e=document.cookie)!==null&&e!==void 0?e:""):{}}static GET_COOKIE_FROM_REQUEST(e){var t,r;return je.parse((r=(t=e.headers)===null||t===void 0?void 0:t.cookie)!==null&&r!==void 0?r:"")}static ERASE_COOKIE(e){this.isWindowAvailable()&&(document.cookie=je.serialize(e,"",{maxAge:0}))}static isWindowAvailable(){return typeof window<"u"}static getSeconds(e){return e*24*60*60}}yt.MAX_TTL_DAYS=28;class wt{static GET_VARIANT_ID(e,t,r,i){if(this.getCookieTTL(r)===0)return"";if(e&&t)return`${e}:${t}`;const{[this.CAMPAIGN_PARAMETER]:s,[this.SEGMENT_PARAMETER]:a}=i!=null&&i.headers?yt.GET_COOKIE_FROM_REQUEST(i):yt.GET_COOKIE();return s&&a?`${s}:${a}`:""}static getCookieTTL(e){const t=Number(e);return Number.isNaN(t)?this.DEFAULT_TTL_DAYS:t}}wt.CAMPAIGN_PARAMETER="__br__campaign_id";wt.SEGMENT_PARAMETER="__br__segment";wt.TTL_PARAMETER="__br__ttl";wt.DEFAULT_TTL_DAYS=7;class Vi{static GET_SEGMENT_IDS(e){var t;return(t=(e!=null&&e.headers?yt.GET_COOKIE_FROM_REQUEST(e):yt.GET_COOKIE())[this.SEGMENT_IDS_PARAMETER])!==null&&t!==void 0?t:""}}Vi.SEGMENT_IDS_PARAMETER="__br__segment_ids";var Un;const vu="Accept-Version",bu="Authorization",_u="Server-Id",Me=Symbol.for("ApiOptionsToken"),$i=Symbol.for("ApiService");let xn=Un=class{constructor(e,t,r){this.urlBuilder=e,this.logger=r,this.headers=Un.getHeaders(t),this.httpClient=t.httpClient}static getHeaders(e){var t,r,i,o;const{cookie:s,referer:a,"x-forwarded-for":c=(r=(t=e.request)===null||t===void 0?void 0:t.connection)===null||r===void 0?void 0:r.remoteAddress,"user-agent":u}=((i=e.request)===null||i===void 0?void 0:i.headers)||{},{apiVersionHeader:d=vu,apiVersion:p,authorizationHeader:E=bu,authorizationToken:w,serverIdHeader:y=_u,serverId:_,visitor:P=(o=e.request)===null||o===void 0?void 0:o.visitor}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c&&{"X-Forwarded-For":c}),p&&{[d]:p}),w&&{[E]:`Bearer ${w}`}),Ti(e)&&s&&{Cookie:s}),a&&{Referer:a}),_&&{[y]:_}),u&&{"User-Agent":u}),P&&{[P.header]:P.id})}getPage(e){const t=this.urlBuilder.getApiUrl(e);return this.send({url:t,method:"GET"})}getComponent(e,t){const r=new URLSearchParams(t);return this.send({url:e,data:r.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded"},method:Object.keys(t||{}).length?"POST":"GET"})}send(e){var t,r,i;return U(this,void 0,void 0,function*(){return(t=this.logger)===null||t===void 0||t.debug("Request:",e.method,e.url),(r=this.logger)===null||r===void 0||r.debug("Headers:",Object.assign(Object.assign({},this.headers),e.headers)),e.data&&((i=this.logger)===null||i===void 0||i.debug("Body:",e.data)),(yield this.httpClient(Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},this.headers),e.headers)}))).data})}};xn=Un=N([R(),m(0,v(Ne)),m(1,v(Me)),m(2,v(L)),m(2,Y()),B("design:paramtypes",[Object,Object,L])],xn);const an=Symbol.for("SpaService");let Bn=class{constructor(e,t,r,i){this.api=e,this.pageFactory=t,this.eventBus=r,this.logger=i}onCmsUpdate(e){var t,r,i,o,s,a;return U(this,void 0,void 0,function*(){(t=this.logger)===null||t===void 0||t.debug("Received CMS update event."),(r=this.logger)===null||r===void 0||r.debug("Event:",e);const u=this.page.getComponent().getComponentById(e.id),d=u==null?void 0:u.getUrl();if(!d){(i=this.logger)===null||i===void 0||i.debug("Skipping the update event.");return}(o=this.logger)===null||o===void 0||o.debug("Trying to request the component model.");const p=yield this.api.getComponent(d,e.properties);(s=this.logger)===null||s===void 0||s.debug("Model:",p),(a=this.eventBus)===null||a===void 0||a.emit("page.update",{page:p})})}initialize(e){var t,r;return U(this,void 0,void 0,function*(){if(typeof e=="string"){(t=this.logger)===null||t===void 0||t.debug("Trying to request the page model.");const i=yield this.api.getPage(e);return this.hydrate(i)}return(r=this.logger)===null||r===void 0||r.debug("Received dehydrated model."),this.hydrate(e)})}hydrate(e){var t,r;return U(this,void 0,void 0,function*(){return(t=this.logger)===null||t===void 0||t.debug("Model:",e),(r=this.logger)===null||r===void 0||r.debug("Hydrating."),this.page=this.pageFactory(e),this.page})}destroy(){var e,t;return U(this,void 0,void 0,function*(){(e=this.eventBus)===null||e===void 0||e.clearListeners(),delete this.page,(t=this.logger)===null||t===void 0||t.debug("Destroyed page.")})}};Bn=N([R(),m(0,v($i)),m(1,v(nr)),m(2,v(ke)),m(2,Y()),m(3,v(L)),m(3,Y()),B("design:paramtypes",[Object,Function,Object,L])],Bn);function rr(){return new Je(n=>{n($i).to(xn).inSingletonScope(),n(an).to(Bn).inSingletonScope()})}const Wi="token",zi="server-id",ir="btm_",wu=`${ir}campaign_id`,Eu=`${ir}segment`,Tu=`${ir}ttl`,Gi="__br__",Su=`${Gi}campaignVariant`,Au=`${Gi}segmentIds`,Hi=new Sa({skipBaseClassChecks:!0}),Cu=new WeakMap;Hi.load(za(),_i());function Ou(n,e,t){var r,i,o,s,a,c,u,d,p,E,w;return U(this,void 0,void 0,function*(){const y=n.get(L);y.info("Enabled reverse-proxy based setup."),y.warn("This setup is deprecated and will not work in the next major release."),y.debug("Path:",(o=(r=e.path)!==null&&r!==void 0?r:(i=e.request)===null||i===void 0?void 0:i.path)!==null&&o!==void 0?o:"/"),y.debug("Base URL:",e.options.preview.spaBaseUrl);const _=bi((c=(s=e.path)!==null&&s!==void 0?s:(a=e.request)===null||a===void 0?void 0:a.path)!==null&&c!==void 0?c:"/",e.options.preview.spaBaseUrl)?e.options.preview:e.options.live;y.info(`Using ${_===e.options.preview?"preview":"live"} configuration.`);const P=Object.assign(Object.assign({},e),{NBRMode:e.NBRMode||!1});n.load(ji(),rr(),wi()),n.bind(Me).toConstantValue(P),n.bind(Te).toConstantValue(_);const D=yield n.get(an).initialize((p=(u=t??e.path)!==null&&u!==void 0?u:(d=e.request)===null||d===void 0?void 0:d.path)!==null&&p!==void 0?p:"/");return!((E=n.parent)===null||E===void 0)&&E.isBound(Pe)||(yield(w=n.parent)===null||w===void 0?void 0:w.loadAsync(Yn)),n.unbind(Me),n.unbind(Te),D})}function Pu(n,e,t){var r,i,o,s,a,c,u,d,p,E,w,y,_;return U(this,void 0,void 0,function*(){const P=n.get(L);P.info("Enabled token-based setup."),P.info("Using Page Model API 0.9."),P.warn("This version of the Page Model API is deprecated and will be removed in the next major release.");const D=(r=e.authorizationQueryParameter)!==null&&r!==void 0?r:Wi,k=(i=e.serverIdQueryParameter)!==null&&i!==void 0?i:zi,{url:q,searchParams:X}=vi((a=(o=e.path)!==null&&o!==void 0?o:(s=e.request)===null||s===void 0?void 0:s.path)!==null&&a!==void 0?a:"/",[D,k].filter(Boolean)),de=(c=X.get(D))!==null&&c!==void 0?c:void 0,he=(u=X.get(k))!==null&&u!==void 0?u:void 0,J=Object.assign(Object.assign({},e),{origin:(d=e.origin)!==null&&d!==void 0?d:$((E=(p=e.apiBaseUrl)!==null&&p!==void 0?p:e.cmsBaseUrl)!==null&&E!==void 0?E:"").origin,spaBaseUrl:Cn((w=e.spaBaseUrl)!==null&&w!==void 0?w:"",X),NBRMode:e.NBRMode||!1});de&&P.debug("Token:",de),he&&P.debug("Server Id:",he),P.debug("Origin:",J.origin),P.debug("Path:",q),P.debug("Base URL:",J.spaBaseUrl),n.load(ji(),rr(),wi()),n.bind(Me).toConstantValue(Object.assign({authorizationToken:de,serverId:he},J)),n.bind(Te).toConstantValue(J);const fe=yield n.get(an).initialize(t??q);return fe.isPreview()&&J.cmsBaseUrl?(P.info("Running in preview mode."),!((y=n.parent)===null||y===void 0)&&y.isBound(Pe)||(yield(_=n.parent)===null||_===void 0?void 0:_.loadAsync(Yn)),n.get(ot).initialize(J),n.get(Pe).initialize(J,n),yield fe.sync()):P.info("Running in live mode."),n.unbind(Me),n.unbind(Te),fe})}function Iu(n,e,t){var r,i,o,s,a,c,u,d,p,E,w,y,_,P,D;return U(this,void 0,void 0,function*(){const k=n.get(L);k.info("Enabled token-based setup."),k.info("Using Page Model API 1.0.");const q=(r=e.authorizationQueryParameter)!==null&&r!==void 0?r:Wi,X=(i=e.serverIdQueryParameter)!==null&&i!==void 0?i:zi,de=wu,he=Eu,J=Tu,{url:fe,searchParams:pe}=vi((a=(o=e.path)!==null&&o!==void 0?o:(s=e.request)===null||s===void 0?void 0:s.path)!==null&&a!==void 0?a:"/",[q,X,de,he,J].filter(Boolean)),Ke=(c=pe.get(q))!==null&&c!==void 0?c:void 0,Qe=(u=pe.get(X))!==null&&u!==void 0?u:void 0,re=(d=pe.get(de))!==null&&d!==void 0?d:void 0,Ue=(p=pe.get(he))!==null&&p!==void 0?p:void 0,Ae=(E=pe.get(J))!==null&&E!==void 0?E:void 0;let ge=e.endpoint;const Ce=wt.GET_VARIANT_ID(re,Ue,Ae,e.request),Xe=Vi.GET_SEGMENT_IDS(e.request),xe=new URLSearchParams;Ce&&xe.append(Su,Ce),Xe&&xe.append(Au,Xe),ge=Cn(ge??"",xe);const Q=Object.assign(Object.assign({},e),{endpoint:ge,baseUrl:Cn((w=e.baseUrl)!==null&&w!==void 0?w:"",pe),origin:(y=e.origin)!==null&&y!==void 0?y:$((_=e.endpoint)!==null&&_!==void 0?_:"").origin,NBRMode:e.NBRMode||!1});Ke&&k.debug("Token:",Ke),Qe&&k.debug("Server Id:",Qe),re&&k.debug("Campaign Id:",re),Ue&&k.debug("Segment Id:",Ue),Ae&&k.debug("TTL:",Ae),Ce&&k.debug("Campaign variant Id:",Ce),k.debug("Endpoint:",Q.endpoint),k.debug("Origin:",Q.origin),k.debug("Path:",fe),k.debug("Base URL:",Q.baseUrl),n.load(mu(),rr(),_i()),n.bind(Me).toConstantValue(Object.assign({authorizationToken:Ke,serverId:Qe},Q)),n.bind(Te).toConstantValue(Q);const Ze=yield n.get(an).initialize(t??fe);return Ze.isPreview()&&Q.endpoint?(k.info("Running in preview mode."),!((P=n.parent)===null||P===void 0)&&P.isBound(Pe)||(yield(D=n.parent)===null||D===void 0?void 0:D.loadAsync(Yn)),n.get(ot).initialize(Q),n.get(Pe).initialize(Q,n)):k.info("Running in live mode."),n.unbind(Me),n.unbind(Te),Ze})}function Mu(n,e){var t,r;return U(this,void 0,void 0,function*(){if(yu(e))return e;const i=Hi.createChild(),o=i.get(L);o.level=n.debug?Z.Debug:Z.Error,o.debug("Configuration:",n);const s=Ti(n)?yield Ou(i,n,e):Ya(n)?yield Pu(i,n,e):yield Iu(i,n,e);return Cu.set(s,i),(r=(t=n.request)===null||t===void 0?void 0:t.emit)===null||r===void 0||r.call(t,"br:spa:initialized",s),s})}function qi(n){return n?n.map(e=>({name:e.getName(),link:e.getLink(),depth:e.getDepth(),selected:e.isSelected(),children:qi(e.getChildren())})):[]}function Ji(n){let e=document.createElement("li");if(n.children.length>0&&e.classList.add("has-children"),n.link){let t=document.createElement("a");t.setAttribute("href",n.link.href),n.link.type==="external"&&t.setAttribute("target","_blank"),t.innerText=n.name,e.appendChild(t)}else e.innerText=n.name;if(n.children.length>0){let t=document.createElement("ul");t.classList.add("submenu"),n.children.forEach(r=>{let i=Ji(r);t.appendChild(i)}),e.appendChild(t)}return e}function Ru(n){let e=document.getElementById("nav-list");n.forEach(t=>{let r=Ji(t);e.appendChild(r)})}async function Nu(n){const e=await Mu({path:n,endpoint:"https://strongtie.bloomreach.io/delivery/site/v1/channels/sst-site/pages",httpClient:Ts}),{menu:t}=e.getComponent("header","menu").getModels(),i=e.getContent(t).getItems(),o=await qi(i);Ru(o),document.querySelectorAll(".has-children").forEach(a=>{a.addEventListener("mouseenter",()=>{a.querySelector(".submenu").classList.add("visible")}),a.addEventListener("mouseleave",()=>{a.querySelector(".submenu").classList.remove("visible")})})}Nu("https://www.strongtie.com");export{dt as C,L,qa as R,an as S,N as _,m as a,v as b,Ja as c,B as d,U as e,Or as f,ku as g,R as i,Y as o};
